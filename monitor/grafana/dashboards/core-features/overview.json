{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": {
          "type": "grafana",
          "uid": "-- Grafana --"
        },
        "enable": true,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "fiscalYearStartMonth": 0,
  "graphTooltip": 1,
  "id": 0,
  "links": [],
  "panels": [
    {
      "collapsed": false,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 99,
      "panels": [],
      "title": "Cluster Overview",
      "type": "row"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Breakdown of active namespaces by sales plan type, including “unknown” for unlabeled namespaces.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 6,
        "x": 0,
        "y": 1
      },
      "id": 53,
      "options": {
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "sort": "desc",
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "count by (sales_plan_type) (\n  label_replace(\n    kube_namespace_labels{\n      namespace=~\"$namespace\", \n      camunda_geo_area=~\"$geo_area\", \n      camunda_provider=~\"$cloud_provider\",\n      label_cloud_camunda_io_generation=~\"$generation\",\n      label_cloud_camunda_io_sales_plan_type!=\"\"},\n    \"sales_plan_type\", \"$1\",\n    \"label_cloud_camunda_io_sales_plan_type\", \"(.*)\"\n  )\n)\nor\ncount by (sales_plan_type) (\n  label_replace(\n    kube_namespace_labels{\n      namespace=~\"$namespace\", \n      camunda_geo_area=~\"$geo_area\", \n      camunda_provider=~\"$cloud_provider\",\n      label_cloud_camunda_io_generation=~\"$generation\",\n      label_cloud_camunda_io_sales_plan_type=\"\"},\n    \"sales_plan_type\", \"unknown\", \"__name__\", \".*\"\n  )\n)",
          "format": "time_series",
          "instant": true,
          "legendFormat": "__auto",
          "range": false,
          "refId": "A"
        }
      ],
      "title": "Sales Plan Type",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Shows namespace distribution by product generation (e.g., Camunda_8_8_0_alpha8 vs Camunda_8_6_gen21).",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 6,
        "x": 6,
        "y": 1
      },
      "id": 55,
      "options": {
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "sort": "desc",
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "(\n  count by (generation) (\n    label_replace(\n      kube_namespace_labels{\n        namespace=~\"$namespace\", \n        camunda_geo_area=~\"$geo_area\", \n        camunda_provider=~\"$cloud_provider\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\", \n        label_cloud_camunda_io_generation!=\"\"},\n      \"generation\", \"$1\",\n      \"label_cloud_camunda_io_generation\", \"(.*)\"\n    )\n  )\n)\nor\n(\n  count by (generation) (\n    label_replace(\n      kube_namespace_labels{\n        namespace=~\"$namespace\",\n        camunda_geo_area=~\"$geo_area\", \n        camunda_provider=~\"$cloud_provider\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\", \n        label_cloud_camunda_io_generation=\"\"},\n      \"generation\", \"unknown\",\n      \"__name__\", \".*\"\n    )\n  )\n)\n",
          "format": "time_series",
          "instant": true,
          "legendFormat": "__auto",
          "range": false,
          "refId": "A"
        }
      ],
      "title": "Generation",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Shows which cloud providers host customer workloads (GCP, AWS, etc.).",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 6,
        "x": 12,
        "y": 1
      },
      "id": 57,
      "options": {
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "sort": "desc",
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "(\n  count by (provider) (\n    label_replace(\n      kube_namespace_labels{\n        namespace=~\"$namespace\",\n        camunda_geo_area=~\"$geo_area\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\", \n        label_cloud_camunda_io_generation=~\"$generation\", \n        camunda_provider!=\"\"},\n      \"provider\", \"$1\",\n      \"camunda_provider\", \"(.*)\"\n    )\n  )\n)\nor\n(\n  count by (provider) (\n    label_replace(\n      kube_namespace_labels{\n        namespace=~\"$namespace\",\n        camunda_geo_area=~\"$geo_area\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\", \n        label_cloud_camunda_io_generation=~\"$generation\", \n        camunda_provider=\"\"},\n      \"provider\", \"unknown\",\n      \"__name__\", \".*\"\n    )\n  )\n)\n",
          "format": "time_series",
          "instant": true,
          "legendFormat": "__auto",
          "range": false,
          "refId": "A"
        }
      ],
      "title": "Cloud Provider",
      "type": "piechart"
    },
    {
      "datasource": {
        "type": "prometheus",
        "uid": "${DS_PROMETHEUS}"
      },
      "description": "Geographic distribution of namespaces — useful for understanding latency or region impact.",
      "fieldConfig": {
        "defaults": {
          "color": {
            "mode": "palette-classic"
          },
          "custom": {
            "hideFrom": {
              "legend": false,
              "tooltip": false,
              "viz": false
            }
          },
          "mappings": []
        },
        "overrides": []
      },
      "gridPos": {
        "h": 8,
        "w": 6,
        "x": 18,
        "y": 1
      },
      "id": 58,
      "options": {
        "legend": {
          "displayMode": "list",
          "placement": "bottom",
          "showLegend": true
        },
        "pieType": "pie",
        "reduceOptions": {
          "calcs": [
            "lastNotNull"
          ],
          "fields": "",
          "values": false
        },
        "sort": "desc",
        "tooltip": {
          "hideZeros": false,
          "mode": "single",
          "sort": "none"
        }
      },
      "pluginVersion": "12.2.0",
      "targets": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "editorMode": "code",
          "exemplar": false,
          "expr": "(\n  count by (geo_area) (\n    label_replace(\n      kube_namespace_labels{\n        namespace=~\"$namespace\",\n        camunda_provider=~\"$cloud_provider\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\", \n        label_cloud_camunda_io_generation=~\"$generation\", \n        camunda_geo_area!=\"\"},\n      \"geo_area\", \"$1\",\n      \"camunda_geo_area\", \"(.*)\"\n    )\n  )\n)\nor\n(\n  count by (geo_area) (\n    label_replace(\n      kube_namespace_labels{\n        namespace=~\"$namespace\",\n        camunda_provider=~\"$cloud_provider\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\", \n        label_cloud_camunda_io_generation=~\"$generation\", \n        camunda_geo_area=\"\"},\n      \"geo_area\", \"unknown\",\n      \"__name__\", \".*\"\n    )\n  )\n)\n",
          "format": "time_series",
          "instant": true,
          "legendFormat": "__auto",
          "range": false,
          "refId": "A"
        }
      ],
      "title": "Geo Area",
      "type": "piechart"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 9
      },
      "id": 2,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 65,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "normal"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 2449
          },
          "id": 1,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "builder",
              "expr": "count by(alertname) (ALERTS{team=~\"operate|tasklist|optimize|zeebe\", label_cloud_camunda_io_sales_plan_type!=\"trial\", alertstate=\"firing\", namespace=~\"$namespace\"})",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Alerts",
          "type": "timeseries"
        }
      ],
      "title": "Alerts",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 10
      },
      "id": 7,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Highest-requested API endpoints based on request rate, excluding internal /actuator and Prometheus paths. Search is defined as GET requests and POST request with /search or /statistics in the path",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 1,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 3,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value"
                },
                "properties": []
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 0,
            "y": 11
          },
          "id": 4,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "# 1. GET requests, excluding license and topology\nsum by(uri, method) (\n  rate(http_server_requests_seconds_count{\n    camunda_region=~\"$region\",\n    container=~\"$container\",\n    namespace=~\"$namespace\",\n    uri=~\"$uri\",\n    method=\"GET\",\n    uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\"\n  }[$__rate_interval]) != 0\n)",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "{{method}} {{uri}}",
              "range": true,
              "refId": "Requests per second",
              "useBackend": false
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "# 2. POST requests to /search or /statistics\nsum by(uri, method) (\n  rate(http_server_requests_seconds_count{\n    camunda_region=~\"$region\",\n    container=~\"$container\",\n    namespace=~\"$namespace\",\n    uri=~\"$uri\",\n    method=\"POST\",\n    uri=~\".*/search.*|.*/statistics.*\",\n    uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\"\n  }[$__rate_interval]) != 0\n)",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "{{method}} {{uri}}",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Search Request Rate REST",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Highest-requested API endpoints based on request rate, excluding internal /actuator and Prometheus paths.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "decimals": 3,
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "uri"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Show details",
                        "url": "/d/ceolah0px5og0e/api?orgId=1&from=now-15m&to=now&timezone=browser&${region:queryparam}&${namespace:queryparam}&${container:queryparam}&var-uri=${__value.raw}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 6,
            "y": 11
          },
          "id": 17,
          "options": {
            "cellHeight": "sm",
            "showHeader": true
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(10, (sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method=\"GET\",\n      namespace=~\"$namespace\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\"\n    }[4h])\n  )\nor\nsum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method=\"POST\",\n      namespace=~\"$namespace\",\n      uri=~\".*/search.*|.*/statistics.*\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\"\n    }[4h])\n  )))",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Requests per second",
              "useBackend": false
            }
          ],
          "title": "Request Rate REST (top 10)",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Time": "",
                  "Value": "Rate (req/s)",
                  "uri": ""
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Highest-requested API endpoints based on request rate, excluding internal /actuator and Prometheus paths. Commands are request that modify resources",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 3,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "Value"
                },
                "properties": []
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 12,
            "y": 11
          },
          "id": 49,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by(uri, method) (\n  rate(http_server_requests_seconds_count{\n    camunda_region=~\"$region\",\n    container=~\"$container\",\n    method!~\"GET|OPTIONS|HEAD\",\n    namespace=~\"$namespace\",\n    uri=~\"$uri\",\n    uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\",\n    uri!~\".*/search.*|.*/statistics.*\",\n  }[$__rate_interval]) != 0\n)\n",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "{{method}} {{uri}}",
              "range": true,
              "refId": "Requests per second",
              "useBackend": false
            }
          ],
          "title": "Command Request Rate REST",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Highest-requested API endpoints based on request rate, excluding internal /actuator and Prometheus paths.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "decimals": 3,
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "uri"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Show details",
                        "url": "/d/ceolah0px5og0e/api?orgId=1&from=now-15m&to=now&timezone=browser&var-uri=${__value.raw}&${region:queryparam}&${container:queryparam}&${namespace:queryparam}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 18,
            "y": 11
          },
          "id": 50,
          "options": {
            "cellHeight": "sm",
            "showHeader": true
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(10, sum by(uri, method) (\n  rate(http_server_requests_seconds_count{\n    camunda_region=~\"$region\",\n    container=~\"$container\",\n    namespace=~\"$namespace\",\n    method!~\"GET|OPTIONS|HEAD\",\n    namespace=~\"$namespace\",\n    uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\",\n    uri!~\".*/search.*|.*/statistics.*\",\n  }[4h])\n))",
              "format": "table",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Requests per second",
              "useBackend": false
            }
          ],
          "title": "Command Request Rate REST (top 10)",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Time": "",
                  "Value": "Rate (req/s)",
                  "uri": ""
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Endpoints with the highest average request duration, excluding known internal and noisy paths.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "line"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.3
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 0,
            "y": 1143
          },
          "id": 6,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "  sum by(uri, method) (\n    rate(http_server_requests_seconds_sum{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method=\"GET\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$|/v2/jobs/activation\"\n    }[$__rate_interval])\n  )\n  /\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method=\"GET\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$|/v2/jobs/activation\"\n    }[$__rate_interval])\n  )\n",
              "hide": false,
              "instant": false,
              "legendFormat": "{{method}} {{uri}}",
              "range": true,
              "refId": "Latency (avg)"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "  sum by(uri, method) (\n    rate(http_server_requests_seconds_sum{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method=\"POST\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri=~\".*/search.*|.*/statistics.*\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$|/v2/jobs/activation\"\n    }[$__rate_interval])\n  )\n  /\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method=\"POST\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri=~\".*/search.*|.*/statistics.*\",      \n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$|/v2/jobs/activation\"\n    }[$__rate_interval])\n  )\n",
              "hide": false,
              "instant": false,
              "legendFormat": "{{method}} {{uri}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Average Search Latency REST",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Endpoints with the highest average request duration, excluding known internal and noisy paths.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.3
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "uri"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Show details",
                        "url": "/d/ceolah0px5og0e/api?orgId=1&from=now-15m&to=now&timezone=browser&var-uri=${__value.raw}&${region:queryparam}&${container:queryparam}&${namespace:queryparam}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 6,
            "y": 1143
          },
          "id": 13,
          "options": {
            "cellHeight": "sm",
            "showHeader": true
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(10,\n  ((sum by(uri, method) (\n    rate(http_server_requests_seconds_sum{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method=\"GET\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$|/v2/jobs/activation\"\n    }[4h])\n  )\n  /\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method=\"GET\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$|/v2/jobs/activation\"\n    }[4h])\n  )) or\n    ((sum by(uri, method) (\n    rate(http_server_requests_seconds_sum{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method=\"POST\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri=~\".*/search.*|.*/statistics.*\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$|/v2/jobs/activation\"\n    }[4h])\n  )\n  /\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method=\"POST\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri=~\".*/search.*|.*/statistics.*\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$|/v2/jobs/activation\"\n    }[4h])\n  ))\n  )\n))",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{method}} {{uri}}",
              "range": false,
              "refId": "Latency (avg)"
            }
          ],
          "title": "Search Latency REST (top 10)",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Value": "Avg Response Time (s)"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Endpoints with the highest average request duration, excluding known internal and noisy paths.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "line"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.3
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 12,
            "y": 1143
          },
          "id": 51,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_sum{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method!~\"GET|OPTIONS|HEAD\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$|/v2/jobs/activation\",\n      uri!~\".*/search.*|.*/statistics.*\",\n    }[$__rate_interval])\n  )\n  /\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method!~\"GET|OPTIONS|HEAD\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$|/v2/jobs/activation\",\n      uri!~\".*/search.*|.*/statistics.*\",\n    }[$__rate_interval])\n  )\n",
              "hide": false,
              "instant": false,
              "legendFormat": "{{method}} {{uri}}",
              "range": true,
              "refId": "Latency (avg)"
            }
          ],
          "title": "Average Command Latency REST",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Endpoints with the highest average request duration, excluding known internal and noisy paths.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.3
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "uri"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "title": "Show details",
                        "url": "/d/ceolah0px5og0e/api?orgId=1&from=now-15m&to=now&timezone=browser&var-uri=${__value.raw}&${region:queryparam}&${container:queryparam}&${namespace:queryparam}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 18,
            "y": 1143
          },
          "id": 52,
          "options": {
            "cellHeight": "sm",
            "showHeader": true
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(10,\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_sum{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method!~\"GET|OPTIONS|HEAD\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$|/v2/jobs/activation\",\n      uri!~\".*/search.*|.*/statistics.*\",\n    }[4h])\n  )\n  /\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      method!~\"GET|OPTIONS|HEAD\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$|/v2/jobs/activation\",\n      uri!~\".*/search.*|.*/statistics.*\",\n    }[4h])\n  )\n)\n",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "{{method}} {{uri}}",
              "range": false,
              "refId": "Latency (avg)"
            }
          ],
          "title": "Command Latency REST (top 10)",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Value": "Avg Response Time (s)"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Endpoints with the highest proportion of server-side errors (5xx), useful for spotting failing API routes.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.01
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 0,
            "y": 1151
          },
          "id": 5,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "topk(10, (\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      namespace=~\"$namespace\",\n      outcome=~\"SERVER_ERROR\",\n      uri=~\"$uri\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\"\n    }[$__rate_interval]) != 0\n  )\n  /\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\"\n    }[$__rate_interval])\n  )\n))\n",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{method}} {{uri}}",
              "range": true,
              "refId": "Error rate",
              "useBackend": false
            }
          ],
          "title": "Server error rate REST",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Endpoints with the highest proportion of server-side errors (5xx), useful for spotting failing API routes.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.01
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "uri"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Show details",
                        "url": "/d/ceolah0px5og0e/api?orgId=1&from=now-15m&to=now&timezone=browser&var-uri=${__value.raw}&${region:queryparam}&${container:queryparam}&${namespace:queryparam}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 6,
            "y": 1151
          },
          "id": 14,
          "options": {
            "cellHeight": "sm",
            "showHeader": true
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(10, (\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      namespace=~\"$namespace\",\n      outcome=~\"SERVER_ERROR\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\"\n    }[4h])\n  )\n  /\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      namespace=~\"$namespace\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\"\n    }[4h])\n  )\n))\n",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{method}} {{uri}}",
              "range": false,
              "refId": "Error rate",
              "useBackend": false
            }
          ],
          "title": "Server error rate REST (top 10)",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Value": "Server Error Rate (%)"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Endpoints with the highest proportion of server-side errors (5xx), useful for spotting failing API routes.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.01
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 12,
            "y": 1151
          },
          "id": 15,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      namespace=~\"$namespace\",\n      outcome=~\"CLIENT_ERROR\",\n      uri=~\"$uri\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\"\n    }[$__rate_interval]) != 0\n  )\n  /\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      namespace=~\"$namespace\",\n      uri=~\"$uri\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\"\n    }[$__rate_interval])\n  )\n",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": false,
              "legendFormat": "{{method}} {{uri}}",
              "range": true,
              "refId": "Error rate",
              "useBackend": false
            }
          ],
          "title": "Client error rate REST",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Endpoints with the highest proportion of server-side errors (4xx).",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.01
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "uri"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Show details",
                        "url": "/d/ceolah0px5og0e/api?orgId=1&from=now-15m&to=now&timezone=browser&var-uri=${__value.raw}&${region:queryparam}&${container:queryparam}&${namespace:queryparam}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 18,
            "y": 1151
          },
          "id": 16,
          "options": {
            "cellHeight": "sm",
            "showHeader": true
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(10, (\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      namespace=~\"$namespace\",\n      outcome=~\"CLIENT_ERROR\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\"\n    }[4h])\n  )\n  /\n  sum by(uri, method) (\n    rate(http_server_requests_seconds_count{\n      camunda_region=~\"$region\",\n      container=~\"$container\",\n      namespace=~\"$namespace\",\n      uri!~\"^/actuator/health(/.*)?$|^/actuator/prometheus$\"\n    }[4h])\n  )\n))\n",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "{{method}} {{uri}}",
              "range": false,
              "refId": "Error rate",
              "useBackend": false
            }
          ],
          "title": "Client error rate REST (top 10)",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Value": "Client Error Rate (%)"
                }
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Total number of gRPC calls handled per second, grouped by method. Useful for monitoring overall traffic volume and per-method activity.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "grpc_method"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Show details",
                        "url": "/d/bep7p39l2r3eoe/grpc?folderUid=fel9jhmrxyltsc&orgId=1&from=now-6h&to=now&timezone=browser&var-region~=$region&var-namespace=$__all&var-grpc_method=${__value.raw}"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 0,
            "y": 1159
          },
          "id": 9,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by(method) (rate(grpc_server_processing_duration_seconds_count{camunda_region=~\"$region\", namespace=~\"$namespace\", method=~\"$method\"}[$__rate_interval])) != 0",
              "format": "time_series",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Request Rate gRPC",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Total number of gRPC calls handled per second, grouped by method. Useful for monitoring overall traffic volume and per-method activity.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "reqps"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "method"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Show details",
                        "url": "/d/bep7p39l2r3eoe/grpc?orgId=1&from=now-15m&to=now&timezone=browser&${namespace:queryparam}&var-grpc_method=${__value.raw}&${region:queryparam}\n"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 6,
            "y": 1159
          },
          "id": 18,
          "options": {
            "cellHeight": "sm",
            "showHeader": true
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by(method) (rate(grpc_server_processing_duration_seconds_count{\n    camunda_region=~\"$region\",\n    method=~\"$method\",\n    namespace=~\"$namespace\",\n    }[$__rate_interval]) != 0)",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Request Rate gRPC (top 10)",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Value": "Request Rate (req/s)"
                }
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "desc": true,
                    "field": "Request Rate (req/s)"
                  }
                ]
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Shows high-percentile latency per gRPC method over the selected range, excluding the ActivateJobs method.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "line"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "transparent",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.3
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 12,
            "y": 1159
          },
          "id": 8,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "histogram_quantile(0.95,\n  sum by (le, method) (\n    increase(grpc_server_processing_duration_seconds_bucket{\n      camunda_region=~\"$region\",\n      method=~\"$method\",\n      method!~\"ActivateJobs\"\n    }[$__rate_interval])\n  )\n) > 0\n",
              "legendFormat": "__auto",
              "range": true,
              "refId": "Latency p95"
            }
          ],
          "title": "p95 Latency gRPC",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Shows high-percentile latency per gRPC method over the selected range, excluding the ActivateJobs method.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "transparent",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.3
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "method"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Show details",
                        "url": "/d/bep7p39l2r3eoe/grpc?orgId=1&from=now-15m&to=now&timezone=browser&${namespace:queryparam}&var-grpc_method=${__value.raw}&${region:queryparam}\n"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 18,
            "y": 1159
          },
          "id": 19,
          "options": {
            "cellHeight": "sm",
            "showHeader": true
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "histogram_quantile(0.95,\n  sum by (le, method) (\n    increase(grpc_server_processing_duration_seconds_bucket{\n      camunda_region=~\"$region\",\n      method=~\"$method\",\n      namespace=~\"$namespace\",\n    }[$__rate_interval])\n  )\n) > 0\n",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "Latency p95"
            }
          ],
          "title": "p95 Latency gRPC (top 10)",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {}
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "desc": true,
                    "field": "Value"
                  }
                ]
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Fraction of gRPC requests resulting in INTERNAL errors per method. High values may indicate server-side issues or crashes.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "line"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.1
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 0,
            "y": 1167
          },
          "id": 10,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "sum by(method) (rate(grpc_server_processing_duration_seconds_count{camunda_region=~\"$region\", namespace=~\"$namespace\", method=~\"$method\", statusCode=\"INTERNAL\"}[$__rate_interval]) != 0) / sum by(method) (rate(grpc_server_processing_duration_seconds_count{camunda_region=~\"$region\", namespace=~\"$namespace\", method=~\"$method\"}[$__rate_interval]))",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Error Rate gRPC",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Fraction of gRPC requests resulting in errors per method. High values may indicate server-side issues or crashes.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.1
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "method"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Show details",
                        "url": "/d/bep7p39l2r3eoe/grpc?orgId=1&from=now-15m&to=now&timezone=browser&${namespace:queryparam}&var-grpc_method=${__value.raw}&${region:queryparam}\n"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 6,
            "y": 1167
          },
          "id": 20,
          "options": {
            "cellHeight": "sm",
            "showHeader": true
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "exemplar": false,
              "expr": "\n  sum by(method) (\n    rate(grpc_server_processing_duration_seconds_count{\n      camunda_region=~\"$region\",\n      statusCode!=\"OK\",\n      method=~\"$method\",\n      namespace=~\"$namespace\",\n    }[$__rate_interval]) != 0\n  )\n  /\n  sum by(method) (\n    rate(grpc_server_processing_duration_seconds_count{\n      camunda_region=~\"$region\",\n      method=~\"$method\",\n      namespace=~\"$namespace\",\n    }[$__rate_interval])\n  )\n",
              "format": "table",
              "fullMetaSearch": false,
              "hide": false,
              "includeNullMetadata": true,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A",
              "useBackend": false
            }
          ],
          "title": "Error Rate gRPC (top 10)",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Value": "Error Rate (%)"
                }
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "desc": true,
                    "field": "Error Rate (%)"
                  }
                ]
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Raw increase of latency bucket counts over time for all methods excluding ActivateJobs. Useful for histogram exploration and debugging tail latencies.",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "scaleDistribution": {
                  "type": "linear"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 1167
          },
          "id": 11,
          "options": {
            "calculate": false,
            "cellGap": 2,
            "cellValues": {},
            "color": {
              "exponent": 0.5,
              "fill": "dark-orange",
              "mode": "scheme",
              "reverse": false,
              "scale": "exponential",
              "scheme": "Spectral",
              "steps": 128
            },
            "exemplars": {
              "color": "rgba(255,0,255,0.7)"
            },
            "filterValues": {
              "le": 1e-9
            },
            "legend": {
              "show": true,
              "showLegend": true
            },
            "rowsFrame": {
              "layout": "auto"
            },
            "tooltip": {
              "mode": "single",
              "showColorScale": false,
              "yHistogram": false
            },
            "yAxis": {
              "axisPlacement": "left",
              "reverse": false,
              "unit": "dtdurations"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(increase(grpc_server_processing_duration_seconds_bucket{camunda_region=~\"$region\", namespace=~\"$namespace\", method=~\"$method\", method!~\"ActivateJobs\"}[$__rate_interval])) by (le)",
              "format": "heatmap",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Latency Heatmap gRPC",
          "type": "heatmap"
        }
      ],
      "title": "API",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 11
      },
      "id": 21,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Visual breakdown of Zeebe namespace health status.\nEach slice represents the count of namespaces that are:\n\nHealthy: All associated pods report health status = 1\n\nUnhealthy: At least one associated pod reports health status < 1\n\nThis chart helps quickly assess the overall health distribution across all monitored namespaces.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 0,
            "y": 12
          },
          "id": 25,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "sort": "desc",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "count(\n(\n  avg(zeebe_health{camunda_region=~\"$region\", namespace=~\"$namespace\"})\n  by (namespace)\n  == 1\n)\n* on(namespace)\ngroup_left(\n  label_cloud_camunda_io_generation,\n  label_cloud_camunda_io_sales_plan_type\n)\nmax(\n  kube_namespace_labels{\n    label_cloud_camunda_io_generation=~\"$generation\",\n    label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n  }\n) by (\n  namespace\n))",
              "format": "time_series",
              "instant": true,
              "legendFormat": "Healthy",
              "range": false,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "count(\n(\n  avg(zeebe_health{camunda_region=~\"$region\", namespace=~\"$namespace\"})\n  by (namespace)\n  < 1\n)\n* on(namespace)\ngroup_left(\n  label_cloud_camunda_io_generation,\n  label_cloud_camunda_io_sales_plan_type\n)\nmax(\n  kube_namespace_labels{\n    label_cloud_camunda_io_generation=~\"$generation\",\n    label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n  }\n) by (\n  namespace\n))",
              "format": "time_series",
              "hide": false,
              "instant": true,
              "legendFormat": "Unhealthy",
              "range": false,
              "refId": "B"
            }
          ],
          "title": "Engine Health Overview",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Displays a list of Zeebe namespaces with an average health score below 1, indicating partial or complete service degradation.\n\nEach row shows:\n\nThe namespace\n\nIts corresponding average health value\n\nUse this table to quickly identify which namespaces require attention due to unhealthy task workers or degraded pods.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "continuous-GrYlRd"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "namespace"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Show details",
                        "url": "/d/zeebe-dashboard/zeebe?orgId=1&from=now-15m&to=now&timezone=browser&var-DS_PROMETHEUS=$DS_PROMETHEUS&var-cluster=$__all&var-namespace=${__value.raw}&var-pod=$__all&var-partition=$__all&var-memory_state=committed\n"
                      }
                    ]
                  },
                  {
                    "id": "custom.width",
                    "value": 437
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Avg Health"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 222
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "Partition Count"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 132
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 6,
            "y": 12
          },
          "id": 23,
          "options": {
            "cellHeight": "sm",
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Avg Health"
              }
            ]
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "avg by (namespace) (\n  zeebe_health{camunda_region=~\"$region\", namespace=~\"$namespace\"}\n)\n* on(namespace)\ngroup_left(\n  label_cloud_camunda_io_generation,\n  label_cloud_camunda_io_sales_plan_type\n)\nmax(\n  kube_namespace_labels{\n    label_cloud_camunda_io_generation=~\"$generation\",\n    label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n  }\n) by (\n  namespace\n)",
              "format": "table",
              "instant": true,
              "legendFormat": "Partition {{partition}}",
              "range": false,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "count(zeebe_health{camunda_region=~\"$region\", namespace=~\"$namespace\"}) \nby (namespace)\n* on(namespace)\ngroup_left(\n  label_cloud_camunda_io_generation,\n  label_cloud_camunda_io_sales_plan_type\n)\nmax(\n  kube_namespace_labels{\n    label_cloud_camunda_io_generation=~\"$generation\",\n    label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n  }\n) by (\n  namespace\n)",
              "format": "table",
              "hide": false,
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "B"
            }
          ],
          "title": "Unhealthy Zeebe Namespaces",
          "transformations": [
            {
              "id": "joinByField",
              "options": {
                "byField": "namespace",
                "mode": "outer"
              }
            },
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time 1": true,
                  "Time 2": true,
                  "label_cloud_camunda_io_cluster_plan_type 2": true,
                  "label_cloud_camunda_io_generation 2": true,
                  "label_cloud_camunda_io_sales_plan 2": true,
                  "label_cloud_camunda_io_sales_plan_type 2": true
                },
                "includeByName": {},
                "indexByName": {
                  "Time 1": 3,
                  "Time 2": 8,
                  "Value #A": 1,
                  "Value #B": 2,
                  "label_cloud_camunda_io_cluster_plan_type 1": 4,
                  "label_cloud_camunda_io_cluster_plan_type 2": 9,
                  "label_cloud_camunda_io_generation 1": 5,
                  "label_cloud_camunda_io_generation 2": 10,
                  "label_cloud_camunda_io_sales_plan 1": 6,
                  "label_cloud_camunda_io_sales_plan 2": 11,
                  "label_cloud_camunda_io_sales_plan_type 1": 7,
                  "label_cloud_camunda_io_sales_plan_type 2": 12,
                  "namespace": 0
                },
                "renameByName": {
                  "Value #A": "Avg Health",
                  "Value #B": "Partition Count"
                }
              }
            },
            {
              "id": "filterByValue",
              "options": {
                "filters": [
                  {
                    "config": {
                      "id": "lower",
                      "options": {
                        "value": "1"
                      }
                    },
                    "fieldName": "Avg Health"
                  }
                ],
                "match": "any",
                "type": "include"
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Shows the standard deviation of Zeebe processing rates across partitions for each namespace.\nHigher values indicate uneven workload distribution across pods or partitions, which may signal routing issues, backpressure, or hot partitions.\n\nUse this table to identify imbalanced namespaces where load is not spread evenly, potentially impacting performance or reliability.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "namespace"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Show details",
                        "url": "/d/zeebe-dashboard/zeebe?orgId=1&from=now-15m&to=now&timezone=browser&var-DS_PROMETHEUS=$DS_PROMETHEUS&var-cluster=$__all&var-namespace=${__value.raw}&var-pod=$__all&var-partition=$__all&var-memory_state=committed\n"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 14,
            "y": 12
          },
          "id": 30,
          "options": {
            "cellHeight": "sm",
            "showHeader": true
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (namespace, pod, partition, processor) (\n  (\n    rate(\n      zeebe_stream_processor_records_total{\n        camunda_region=~\"$region\",\n        namespace=~\"$namespace\",\n        action=~\"processed\"\n      }[$__rate_interval]\n    )\n    * on(namespace)\n    group_left(\n      label_cloud_camunda_io_generation,\n      label_cloud_camunda_io_sales_plan_type\n    )\n    max(\n      kube_namespace_labels{\n        label_cloud_camunda_io_generation=~\"$generation\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n      }\n    ) by (\n      namespace,\n      label_cloud_camunda_io_generation,\n      label_cloud_camunda_io_sales_plan_type\n    )\n  )\n)\n",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Partition Load Imbalance by Namespace",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "partition": true,
                  "pod": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Value": "Processing Rate",
                  "Value (stdDev)": ""
                }
              }
            },
            {
              "id": "groupBy",
              "options": {
                "fields": {
                  "Processing Rate": {
                    "aggregations": [
                      "stdDev"
                    ],
                    "operation": "aggregate"
                  },
                  "Time": {
                    "aggregations": [
                      "lastNotNull"
                    ]
                  },
                  "Value": {
                    "aggregations": []
                  },
                  "namespace": {
                    "aggregations": [],
                    "operation": "groupby"
                  }
                }
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "desc": true,
                    "field": "Processing Rate (stdDev)"
                  }
                ]
              }
            }
          ],
          "type": "table"
        },
        {
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 2,
            "x": 22,
            "y": 12
          },
          "id": 104,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "<center>\r\n<strong><a href=\"/d/zeebe-overview/zeebe-overview?orgId=1&$__url_time_range&var-DS_PROMETHEUS=thanos-global-view&var-namespace=${namespace}&var-pod=$__all&var-partition=$__all&cluster=${cluster}\" target=\"_blank\">\r\nZeebe Overview<br/>Dashboard</a></strong>\r\n<br/><br/><br/>\r\n<strong><a href=\"/d/zeebe-dashboard/zeebe?orgId=1&$__url_time_range&var-DS_PROMETHEUS=thanos-global-view&var-namespace=${namespace}&var-pod=$__all&var-partition=$__all&cluster=${cluster}\" target=\"_blank\">\r\nZeebe<br/>Dashboard</a></strong>\r\n</center>",
            "mode": "html"
          },
          "pluginVersion": "12.2.0",
          "title": "Links",
          "type": "text"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "Shows the top 10 processing queue size per partition over time. Processing queue defines, what is already appended but not yet processed by the stream processor.\nFilters by namespace, cluster, generation and sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineStyle": {
                  "fill": "solid"
                },
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 152
          },
          "id": 76,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "editorMode": "code",
              "expr": "topk(10,\r\n    (\r\n        max by (partition) (\r\n            zeebe_log_appender_last_appended_position{cluster=~\"$cluster\", namespace=~\"$namespace\"}\r\n            * on(namespace) group_left()\r\n            max(\r\n                kube_namespace_labels{\r\n                label_cloud_camunda_io_generation=~\"$generation\",\r\n                label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n                }\r\n            ) by (namespace)\r\n        )\r\n    )\r\n    -\r\n    (\r\n        max by (partition) (\r\n            zeebe_stream_processor_last_processed_position{cluster=~\"$cluster\", namespace=~\"$namespace\"}\r\n            * on(namespace) group_left()\r\n            max(\r\n                kube_namespace_labels{\r\n                label_cloud_camunda_io_generation=~\"$generation\",\r\n                label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n                }\r\n            ) by (namespace)\r\n        )\r\n    )\r\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Processing Queue Size",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Displays the top namespaces with the highest percentage of dropped Zeebe requests over total received requests. Calculated using the rate of dropped requests divided by the rate of received requests, multiplied by 100. Filtered by selected cluster(s) and namespace(s), over the chosen time interval.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "displayName": "",
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 40
                  }
                ]
              },
              "unit": "percent"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 152
          },
          "id": 32,
          "options": {
            "colorMode": "value",
            "graphMode": "area",
            "justifyMode": "center",
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "orientation": "horizontal",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "text": {},
            "textMode": "auto",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "topk(\n  10,\n  (\n    (\n      sum by ( $group_by ) (\n        (\n          sum by (namespace, $group_by) (\n            rate(\n              zeebe_dropped_request_count_total{\n                camunda_region=~\"$region\",\n                namespace=~\"$namespace\"\n              }[$__rate_interval]\n            )\n          )\n          * on(namespace) group_left()\n          max(\n            kube_namespace_labels{\n              label_cloud_camunda_io_generation=~\"$generation\",\n              label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n            }\n          ) by (namespace)\n        )\n      )\n      /\n      sum by ( $group_by ) (\n        (\n          sum by (namespace, $group_by) (\n            rate(\n              zeebe_received_request_count_total{\n                camunda_region=~\"$region\",\n                namespace=~\"$namespace\"\n              }[$__rate_interval]\n            )\n          )\n          * on(namespace) group_left()\n          max(\n            kube_namespace_labels{\n              label_cloud_camunda_io_generation=~\"$generation\",\n              label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n            }\n          ) by (namespace)\n        )\n      )\n    )\n    * 100\n  )\n)\n",
              "interval": "",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "expr": "",
              "interval": "",
              "legendFormat": "",
              "refId": "B"
            }
          ],
          "title": "Highest Backpressure Dropped Requests",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Displays average partition processing rate (records/sec) per namespace. Helps identify the most active namespaces by throughput.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 160
          },
          "id": 29,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "topk(10,\n  avg by ($group_by) (\n    (\n      sum(\n        rate(\n          zeebe_stream_processor_records_total{\n            camunda_region=~\"$region\",\n            namespace=~\"$namespace\",\n            action=~\"skipped|processed\"\n          }[$__rate_interval]\n        )\n      ) by ($group_by, pod, partition, processor, namespace)\n      * on(namespace)\n      group_left()\n      max(\n        kube_namespace_labels{\n          label_cloud_camunda_io_generation=~\"$generation\",\n          label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n        }\n      ) by (namespace)\n    )\n  )\n)\n",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Highest average processing rate",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$DS_PROMETHEUS"
          },
          "description": "Shows the time (latency) between writing the command to the dispatcher and processing the record.",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "scaleDistribution": {
                  "type": "linear"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 160
          },
          "id": 46,
          "options": {
            "calculate": false,
            "calculation": {},
            "cellGap": 2,
            "cellValues": {},
            "color": {
              "exponent": 0.5,
              "fill": "#ef843c",
              "mode": "scheme",
              "reverse": false,
              "scale": "exponential",
              "scheme": "Spectral",
              "steps": 128
            },
            "exemplars": {
              "color": "rgba(255,0,255,0.7)"
            },
            "filterValues": {
              "le": 1e-9
            },
            "legend": {
              "show": false
            },
            "rowsFrame": {
              "layout": "auto"
            },
            "showValue": "never",
            "tooltip": {
              "mode": "single",
              "showColorScale": false,
              "yHistogram": false
            },
            "yAxis": {
              "axisPlacement": "left",
              "reverse": false,
              "unit": "dtdurations"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum by (le) (\n  (\n    increase(\n      zeebe_stream_processor_latency_bucket{\n        namespace=~\"$namespace\"\n      }[$__rate_interval]\n    )\n    * on(namespace)\n    group_left(\n      label_cloud_camunda_io_generation,\n      label_cloud_camunda_io_sales_plan_type\n    )\n    max(\n      kube_namespace_labels{\n        label_cloud_camunda_io_generation=~\"$generation\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\",\n        namespace=~\"$namespace\"\n      }\n    ) by (\n      namespace\n    )\n  )\n  or\n  (\n    increase(\n      zeebe_stream_processor_latency_seconds_bucket{\n        namespace=~\"$namespace\"\n      }[$__rate_interval]\n    )\n    * on(namespace)\n    group_left(\n      label_cloud_camunda_io_generation,\n      label_cloud_camunda_io_sales_plan_type\n    )\n    max(\n      kube_namespace_labels{\n        label_cloud_camunda_io_generation=~\"$generation\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\",\n        namespace=~\"$namespace\"\n      }\n    ) by (\n      namespace\n    )\n  )\n)\n",
              "format": "heatmap",
              "interval": "30s",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Overall Processing Latency",
          "type": "heatmap"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "This time series panel shows the 5-minute averaged flow control partition load for all namespaces over time. The values represent the average load across all active partitions in each namespace, smoothed using a 5-minute window to highlight trends and sustained pressure.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 168
          },
          "id": 34,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(\n  10,\n  avg by ($group_by) (\n    avg_over_time(\n      zeebe_flow_control_partition_load{namespace=~\"$namespace\"}[5m]\n    )\n    * on(namespace) group_left(\n      label_cloud_camunda_io_generation,\n      label_cloud_camunda_io_sales_plan_type\n    )\n    max(\n      kube_namespace_labels{\n        label_cloud_camunda_io_generation=~\"$generation\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n      }\n    ) by (\n      namespace\n    )\n  )\n)\n",
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Average Cluster Load",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$DS_PROMETHEUS"
          },
          "description": "Shows the time (latency) between creating the job and activating it.",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "scaleDistribution": {
                  "type": "linear"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 168
          },
          "id": 45,
          "options": {
            "calculate": false,
            "calculation": {},
            "cellGap": 2,
            "cellValues": {},
            "color": {
              "exponent": 0.5,
              "fill": "#ef843c",
              "mode": "scheme",
              "reverse": false,
              "scale": "exponential",
              "scheme": "Spectral",
              "steps": 128
            },
            "exemplars": {
              "color": "rgba(255,0,255,0.7)"
            },
            "filterValues": {
              "le": 1e-9
            },
            "legend": {
              "show": false
            },
            "rowsFrame": {
              "layout": "auto"
            },
            "showValue": "never",
            "tooltip": {
              "mode": "single",
              "showColorScale": false,
              "yHistogram": false
            },
            "yAxis": {
              "axisPlacement": "left",
              "reverse": false,
              "unit": "dtdurations"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum by (le) (\n  increase(\n    zeebe_job_activation_time_bucket{\n      namespace=~\"$namespace\"\n    }[$__rate_interval]\n  )\n  * on(namespace) group_left(\n    label_cloud_camunda_io_generation,\n    label_cloud_camunda_io_sales_plan_type\n  )\n  max(\n    kube_namespace_labels{\n      label_cloud_camunda_io_generation=~\"$generation\",\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\",\n      namespace=~\"$namespace\"\n    }\n  ) by (\n    namespace\n  )\n)\n",
              "format": "heatmap",
              "interval": "30s",
              "intervalFactor": 1,
              "legendFormat": "{{le}}",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$DS_PROMETHEUS"
              },
              "editorMode": "code",
              "expr": "sum by (le) (\n  increase(\n    zeebe_job_activation_time_seconds_bucket{\n      namespace=~\"$namespace\"\n    }[$__rate_interval]\n  )\n  * on(namespace) group_left(\n    label_cloud_camunda_io_generation,\n    label_cloud_camunda_io_sales_plan_type\n  )\n  max(\n    kube_namespace_labels{\n      label_cloud_camunda_io_generation=~\"$generation\",\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\",\n      namespace=~\"$namespace\"\n    }\n  ) by (\n    namespace\n  )\n)\n",
              "format": "heatmap",
              "hide": false,
              "instant": false,
              "legendFormat": "{{le}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Job Activation Time",
          "type": "heatmap"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Shows the current processed records",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 176
          },
          "id": 31,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": false
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "uid": "$DS_PROMETHEUS"
              },
              "editorMode": "code",
              "expr": "sum by (type, action, eventType) (\n  (\n    rate(\n      zeebe_element_instance_events_total{\n        camunda_region=~\"$region\",\n        namespace=~\"$namespace\"\n      }[$__rate_interval]\n    )\n    * on(namespace)\n    group_left(\n      label_cloud_camunda_io_generation,\n      label_cloud_camunda_io_sales_plan_type\n    )\n    max(\n      kube_namespace_labels{\n        label_cloud_camunda_io_generation=~\"$generation\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n      }\n    ) by (\n      namespace\n    )\n  )\n)\n",
              "format": "time_series",
              "intervalFactor": 1,
              "legendFormat": "{{type}} {{action}} {{eventType}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Current Events",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Shows the execution time of a process instance. This means the time (latency) between creating the instance and completing it.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "seconds",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 176
          },
          "id": 44,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "uid": "$DS_PROMETHEUS"
              },
              "editorMode": "code",
              "expr": "histogram_quantile(0.50,\n  sum by (le) (\n    rate(\n      zeebe_process_instance_execution_time_bucket{\n        namespace=~\"$namespace\"\n      }[$__rate_interval]\n    )\n    * on(namespace) group_left(\n      label_cloud_camunda_io_generation,\n      label_cloud_camunda_io_sales_plan_type\n    )\n    max(\n      kube_namespace_labels{\n        label_cloud_camunda_io_generation=~\"$generation\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\",\n        namespace=~\"$namespace\"\n      }\n    ) by (\n      namespace\n    )\n  )\n)\n",
              "format": "heatmap",
              "interval": "30s",
              "intervalFactor": 1,
              "legendFormat": "quantile-50th",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "histogram_quantile(0.99,\n  sum by (le) (\n    rate(\n      zeebe_process_instance_execution_time_bucket{\n        namespace=~\"$namespace\"\n      }[$__rate_interval]\n    )\n    * on(namespace) group_left(\n      label_cloud_camunda_io_generation,\n      label_cloud_camunda_io_sales_plan_type\n    )\n    max(\n      kube_namespace_labels{\n        label_cloud_camunda_io_generation=~\"$generation\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\",\n        namespace=~\"$namespace\"\n      }\n    ) by (\n      namespace\n    )\n  )\n)\n",
              "interval": "",
              "legendFormat": "quantile-99th",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "$DS_PROMETHEUS"
              },
              "editorMode": "code",
              "expr": "histogram_quantile(0.50,\n  sum by (le) (\n    rate(\n      zeebe_process_instance_execution_time_seconds_bucket{\n        namespace=~\"$namespace\"\n      }[$__rate_interval]\n    )\n    * on(namespace) group_left(\n      label_cloud_camunda_io_generation,\n      label_cloud_camunda_io_sales_plan_type\n    )\n    max(\n      kube_namespace_labels{\n        label_cloud_camunda_io_generation=~\"$generation\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\",\n        namespace=~\"$namespace\"\n      }\n    ) by (\n      namespace\n    )\n  )\n)\n",
              "hide": false,
              "instant": false,
              "legendFormat": "quantile-50th",
              "range": true,
              "refId": "C"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "histogram_quantile(0.99,\n  sum by (le) (\n    rate(\n      zeebe_process_instance_execution_time_seconds_bucket{\n        namespace=~\"$namespace\"\n      }[$__rate_interval]\n    )\n    * on(namespace) group_left(\n      label_cloud_camunda_io_generation,\n      label_cloud_camunda_io_sales_plan_type\n    )\n    max(\n      kube_namespace_labels{\n        label_cloud_camunda_io_generation=~\"$generation\",\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\",\n        namespace=~\"$namespace\"\n      }\n    ) by (\n      namespace\n    )\n  )\n)\n",
              "hide": false,
              "instant": false,
              "legendFormat": "quantile-99th",
              "range": true,
              "refId": "D"
            }
          ],
          "title": "Process Instance Execution Time (avg)",
          "type": "timeseries"
        }
      ],
      "title": "Engine",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 12
      },
      "id": 63,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "Displays the roles of each node per partition.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "mode": "basic",
                  "type": "color-background"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "links": [],
              "mappings": [
                {
                  "options": {
                    "0": {
                      "color": "super-light-red",
                      "index": 0,
                      "text": "Inactive"
                    },
                    "1": {
                      "color": "super-light-orange",
                      "index": 1,
                      "text": "Follower"
                    },
                    "2": {
                      "color": "super-light-purple",
                      "index": 2,
                      "text": "Candidate"
                    },
                    "3": {
                      "color": "light-green",
                      "index": 3,
                      "text": "Leader"
                    }
                  },
                  "type": "value"
                }
              ],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "red",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "pod"
                },
                "properties": [
                  {
                    "id": "custom.cellOptions",
                    "value": {
                      "type": "auto"
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 9,
            "w": 6,
            "x": 0,
            "y": 433
          },
          "id": 79,
          "interval": "1s",
          "options": {
            "cellHeight": "sm",
            "enablePagination": false,
            "frameIndex": 0,
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "atomix_role{cluster=~\"$cluster\", namespace=~\"$namespace\"}",
              "format": "time_series",
              "hide": false,
              "instant": true,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{pod}} p{{partition}} ",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Topology",
          "transformations": [
            {
              "id": "joinByLabels",
              "options": {
                "join": [
                  "pod"
                ],
                "value": "partition"
              }
            },
            {
              "id": "seriesToRows",
              "options": {}
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "Shows when a role change has happened. \n1 = Follower\n2 = Candidate\n3 = Leader",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "decimals": 0,
              "mappings": [],
              "max": 3,
              "min": 1,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 9,
            "x": 6,
            "y": 433
          },
          "id": 71,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "atomix_role{namespace=~\"$namespace\", cluster=~\"$cluster\"}",
              "instant": false,
              "legendFormat": "{{namespace}} {{pod}} p{{partition}} ",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Role Changes",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "Amount of unhealthy (and dead) pods per namespace.\nCan be filtered by namespace and cluster.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 9,
            "x": 15,
            "y": 433
          },
          "id": 70,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": true,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "count by (namespace) (zeebe_health{namespace=~\"$namespace\", cluster=~\"$cluster\"} < 1)",
              "format": "time_series",
              "hide": false,
              "instant": false,
              "legendFormat": "{{namespace}}",
              "range": true,
              "refId": "Unhealthy"
            }
          ],
          "title": "Unhealthy Partitions",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Rate of commands written per second by the log storage appender on the leader.\n\nFilters by namespace.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 1,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 0,
            "y": 522
          },
          "id": 72,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": true,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(zeebe_log_appender_record_appended_total{namespace=~\"$namespace\", recordType=\"COMMAND\"}[$__rate_interval])) by (valueType, intent)",
              "legendFormat": "{{valueType}}.{{intent}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Written Commands",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Rate of events written per second by the log storage appender on the leader.\n\nFilters by namespace.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 1,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 8,
            "y": 522
          },
          "id": 73,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": true,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(zeebe_log_appender_record_appended_total{namespace=~\"$namespace\", recordType=\"EVENT\"}[$__rate_interval])) by (valueType, intent)",
              "legendFormat": "{{valueType}}.{{intent}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Written Events",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Rate of written rejections per second by the log storage appender on the leader.\n\nFilters by namespace.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 1,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 8,
            "x": 16,
            "y": 522
          },
          "id": 74,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": true,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(rate(zeebe_log_appender_record_appended_total{namespace=~\"$namespace\", recordType=\"COMMAND_REJECTION\"}[$__rate_interval])) by (valueType, intent)",
              "legendFormat": "{{valueType}}.{{intent}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Written Rejections",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "Number of pending command distributions by partition, target partition and namespace.\np = partition\ntp = target partition\n\nFilters by namespace and cluster.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 531
          },
          "id": 75,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "editorMode": "code",
              "expr": "sum (zeebe_command_distributions_pending{namespace=~\"$namespace\", cluster=~\"$cluster\"}) by (partition, targetPartition, namespace)",
              "legendFormat": "{{namespace}} p{{partition}} tp{{targetPartition}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Distributed Commands Queue",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "Shows the increase of total command distribution retries by namespace, pod, partition and target partition.\n\nFilters by namespace, geo area, cloud provider, generation, sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "stepBefore",
                "lineWidth": 1,
                "pointSize": 3,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 12,
            "y": 531
          },
          "id": 77,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "median"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": true,
              "mode": "multi",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "max(\r\n    increase(zeebe_command_distributions_inflight_retries_total{namespace=~\"$namespace\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"}[$__interval])\r\n    * on(namespace)\r\n    group_left(\r\n        label_cloud_camunda_io_generation,\r\n        label_cloud_camunda_io_sales_plan_type\r\n    )\r\n    max(\r\n        kube_namespace_labels{\r\n        namespace=~\"$namespace\",\r\n        label_cloud_camunda_io_generation=~\"$generation\",\r\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n        }\r\n    ) by (\r\n        namespace\r\n    )\r\n) by (namespace, pod, partition, targetPartition)",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "legendFormat": "{{namespace}} {{pod}} p{{partition}} tp{{targetPartition}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Command Distribution Retries",
          "type": "timeseries"
        }
      ],
      "title": "ZDP",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 13
      },
      "id": 62,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "Average persistent volume claim in relation to volume stats capacity per namespace.\n\nShows the top 10.\n\nFilters by namespace, geo area, cloud provider, generation, sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 12,
            "x": 0,
            "y": 14
          },
          "id": 64,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "editorMode": "code",
              "expr": "topk (10,\r\n    (avg by (persistentvolumeclaim, namespace)(\r\n        (kubelet_volume_stats_used_bytes{namespace=~\"$namespace\", persistentvolumeclaim=~\".*elastic.*\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"}\r\n        /\r\n        kubelet_volume_stats_capacity_bytes{namespace=~\"$namespace\", persistentvolumeclaim=~\".*elastic.*\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"})\r\n        )\r\n        * on(namespace)\r\n        group_left(\r\n            label_cloud_camunda_io_generation,\r\n            label_cloud_camunda_io_sales_plan_type\r\n        )\r\n        max(\r\n            kube_namespace_labels{\r\n            namespace=~\"$namespace\",\r\n            label_cloud_camunda_io_generation=~\"$generation\",\r\n            label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n            }\r\n        ) by (\r\n            namespace\r\n        )\r\n    )\r\n)",
              "legendFormat": "{{namespace}} {{persistentvolumeclaim}}",
              "range": true,
              "refId": "Elastic"
            }
          ],
          "title": "Elasticsearch Disk Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Shows the biggest 20 indices in the namespaces (excluding non-Camunda related indices).\n\nFilters by namespace, geo area, cloud provider, generation, sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "left",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "bytes"
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "index"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 296
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "namespace"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 196
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 10,
            "w": 6,
            "x": 12,
            "y": 14
          },
          "id": 66,
          "options": {
            "cellHeight": "sm",
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(20, max(elasticsearch_indices_store_size_bytes_primary{namespace=~\"$namespace\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\", index!~\".geoip_databases|.tasks|analytics_state\"}\r\n* on(namespace)\r\n  group_left(\r\n    label_cloud_camunda_io_generation,\r\n    label_cloud_camunda_io_sales_plan_type\r\n  )\r\n  max(\r\n    kube_namespace_labels{\r\n      namespace=~\"$namespace\",\r\n      label_cloud_camunda_io_generation=~\"$generation\",\r\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n    }\r\n  ) by (\r\n    namespace\r\n  )) by (index, namespace))",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Indices",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {}
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Average number of shards per node per namespace.\n\nFilters by namespace, geo area, cloud provider, generation, sales plan.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "fixedColor": "green",
                "mode": "fixed"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "fieldMinMax": false,
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "namespace"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 374
                  }
                ]
              },
              {
                "matcher": {
                  "id": "byName",
                  "options": "container"
                },
                "properties": [
                  {
                    "id": "custom.width",
                    "value": 369
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 10,
            "w": 6,
            "x": 18,
            "y": 14
          },
          "id": 67,
          "options": {
            "cellHeight": "sm",
            "showHeader": true,
            "sortBy": []
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "topk(10,\r\n    sum by (namespace) (\r\n        elasticsearch_cluster_health_active_shards{\r\n            namespace=~\"$namespace\",\r\n            camunda_geo_area=~\"$geo_area\",\r\n            camunda_provider=~\"$cloud_provider\"\r\n            }\r\n        /\r\n        elasticsearch_cluster_health_number_of_nodes{\r\n            namespace=~\"$namespace\",\r\n            camunda_geo_area=~\"$geo_area\",\r\n            camunda_provider=~\"$cloud_provider\"\r\n            }\r\n        * on(namespace)\r\n        group_left(\r\n            label_cloud_camunda_io_generation,\r\n            label_cloud_camunda_io_sales_plan_type\r\n        )\r\n        max(\r\n            kube_namespace_labels{\r\n            namespace=~\"$namespace\",\r\n            label_cloud_camunda_io_generation=~\"$generation\",\r\n            label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n            }\r\n        ) by (\r\n            namespace\r\n        )\r\n    )\r\n)",
              "format": "table",
              "instant": true,
              "interval": "",
              "legendFormat": "__auto",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Shards per Node",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {}
              }
            }
          ],
          "type": "table"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "Discrepancy between last committed log appender position and last exported position.\n\nFilters by cluster, namespace, geo area, cloud provider, generation, sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "axisSoftMin": -1,
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 5,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "min": 0,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 84
          },
          "id": 87,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": true,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "editorMode": "code",
              "expr": "topk(10,\r\n    max (\r\n        zeebe_log_appender_last_committed_position{\r\n            cluster=~\"$cluster\", namespace=~\"$namespace\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"\r\n            }\r\n    ) by (partition, namespace)\r\n    * on(namespace)\r\n  group_left(\r\n    label_cloud_camunda_io_generation,\r\n    label_cloud_camunda_io_sales_plan_type\r\n  )\r\n  max(\r\n    kube_namespace_labels{\r\n      namespace=~\"$namespace\",\r\n      label_cloud_camunda_io_generation=~\"$generation\",\r\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n    }\r\n  ) by (\r\n    namespace\r\n  )\r\n    -\r\n    max (\r\n        zeebe_exporter_last_exported_position{\r\n            cluster=~\"$cluster\", namespace=~\"$namespace\", exporter=\"camundaexporter\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"\r\n            }\r\n    ) by (partition, namespace)\r\n    * on(namespace)\r\n  group_left(\r\n    label_cloud_camunda_io_generation,\r\n    label_cloud_camunda_io_sales_plan_type\r\n  )\r\n  max(\r\n    kube_namespace_labels{\r\n      namespace=~\"$namespace\",\r\n      label_cloud_camunda_io_generation=~\"$generation\",\r\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n    }\r\n  ) by (\r\n    namespace\r\n  )\r\n)",
              "legendFormat": "{{namespace}} p{{partition}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Camunda Exporter (records to export backlog)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "How much time it took to export a record from the moment it was written (not committed).\n\nFiltered by namespace, geo area, cloud provider, generation, sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 84
          },
          "id": 86,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": true,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "editorMode": "code",
              "expr": "max by (partition, pod, namespace, camund) (\r\n    zeebe_camunda_exporter_record_export_duration_seconds_max{namespace=~\"$namespace\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"}\r\n    )\r\n* on(namespace) group_left() \r\nmax by (namespace)\r\n(\r\n    kube_namespace_labels{\r\n        label_cloud_camunda_io_generation=~\"$generation\",\r\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n        }\r\n)",
              "legendFormat": "{{namespace}} p{{partition}} {{pod}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Camunda Exporter (export duration)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "How long an export request is open and collecting new records before flushing.\n\nFilters by cluster and namespace.",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "scaleDistribution": {
                  "type": "linear"
                }
              },
              "links": []
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 93
          },
          "id": 85,
          "options": {
            "calculate": true,
            "calculation": {
              "xBuckets": {
                "mode": "size",
                "value": "30s"
              },
              "yBuckets": {
                "scale": {
                  "type": "linear"
                },
                "value": "0.01"
              }
            },
            "cellGap": 1,
            "color": {
              "exponent": 0.5,
              "fill": "dark-orange",
              "mode": "scheme",
              "reverse": false,
              "scale": "exponential",
              "scheme": "Spectral",
              "steps": 128
            },
            "exemplars": {
              "color": "rgba(255,0,255,0.7)"
            },
            "filterValues": {
              "le": 1e-9
            },
            "legend": {
              "show": true
            },
            "rowsFrame": {
              "layout": "auto"
            },
            "tooltip": {
              "mode": "single",
              "showColorScale": false,
              "yHistogram": false
            },
            "yAxis": {
              "axisPlacement": "left",
              "reverse": false,
              "unit": "s"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "uid": "$DS_PROMETHEUS"
              },
              "editorMode": "code",
              "exemplar": true,
              "expr": "rate(zeebe_rdbms_exporter_flush_latency_seconds_sum{cluster=~\"$cluster\", namespace=~\"$namespace\"}[$__rate_interval]) / rate(zeebe_rdbms_exporter_flush_latency_seconds_count{cluster=~\"$cluster\", namespace=~\"$namespace\"}[$__rate_interval]) > 0",
              "interval": "1",
              "legendFormat": "{{namespace}} {{pod}} Exporter {{partition}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "RDBMS Exporter (flush latency)",
          "type": "heatmap"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "How long an export request is open on average and collecting new records before flushing.\n\nShows the top 10 pods with the highest latency.\n\nFilters by namespace, cluster, generation, sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 93
          },
          "id": 83,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "editorMode": "code",
              "expr": "topk(10,\r\n    avg by (namespace, pod, partition) ( \r\n        rate(zeebe_camunda_exporter_flush_latency_seconds_sum{cluster=~\"$cluster\", namespace=~\"$namespace\"}[$__rate_interval])\r\n        * on(namespace)\r\n        group_left(\r\n            label_cloud_camunda_io_generation,\r\n            label_cloud_camunda_io_sales_plan_type\r\n        )\r\n        max(\r\n            kube_namespace_labels{\r\n            namespace=~\"$namespace\",\r\n            label_cloud_camunda_io_generation=~\"$generation\",\r\n            label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n            }\r\n        ) by (\r\n            namespace\r\n        )\r\n        /\r\n        rate(zeebe_camunda_exporter_flush_latency_seconds_count{cluster=~\"$cluster\", namespace=~\"$namespace\"}[$__rate_interval])\r\n        * on(namespace)\r\n        group_left(\r\n            label_cloud_camunda_io_generation,\r\n            label_cloud_camunda_io_sales_plan_type\r\n        )\r\n        max(\r\n            kube_namespace_labels{\r\n            namespace=~\"$namespace\",\r\n            label_cloud_camunda_io_generation=~\"$generation\",\r\n            label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n            }\r\n        ) by (\r\n            namespace\r\n        )\r\n    )\r\n)",
              "legendFormat": "{{namespace}} {{pod}} p{{partition}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Camunda Exporter (flush latency avg)",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Shows the top 20 rate of archiving (in-progress) and archived process instance and batch operations. Batch operations or process instances need to be completed before being able to be archived.\n\nThe rate is aggregated by partition, namespace and state.\n\nFilters by namespace, geo area, cloud provider, generation, sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 102
          },
          "id": 68,
          "options": {
            "legend": {
              "calcs": [
                "lastNotNull",
                "max",
                "min"
              ],
              "displayMode": "table",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "topk(20,\r\n    sum(\r\n        rate(zeebe_camunda_exporter_archiver_process_instances_total{namespace=~\"$namespace\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"}[$__rate_interval])\r\n        * on(namespace)\r\n        group_left(\r\n            label_cloud_camunda_io_generation,\r\n            label_cloud_camunda_io_sales_plan_type\r\n        )\r\n        max(\r\n            kube_namespace_labels{\r\n            namespace=~\"$namespace\",\r\n            label_cloud_camunda_io_generation=~\"$generation\",\r\n            label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n            }\r\n        ) by (\r\n            namespace\r\n        )\r\n    )\r\n    by (namespace, partition, state)\r\n )",
              "legendFormat": "{{state}} process instances [p{{partition}}] [{{namespace}}]",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "topk(20,\r\n    sum(\r\n        rate(zeebe_camunda_exporter_archiver_batch_operations_total{namespace=~\"$namespace\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"}[$__rate_interval])\r\n    * on(namespace)\r\n    group_left(\r\n        label_cloud_camunda_io_generation,\r\n        label_cloud_camunda_io_sales_plan_type\r\n    )\r\n    max(\r\n        kube_namespace_labels{\r\n        namespace=~\"$namespace\",\r\n        label_cloud_camunda_io_generation=~\"$generation\",\r\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n        }\r\n    ) by (\r\n        namespace\r\n    )\r\n    ) by (namespace, partition, state)\r\n)",
              "hide": false,
              "instant": false,
              "legendFormat": "{{state}} batch operations [p{{partition}}] [{{namespace}}]",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Archiving Rate",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "Histogram to show the distribution of the overall archiving duration, which includes searching, reindexing, and deletion.\n\nFilters by cluster, namespace, geo area, cloud provider, generation, sales plan type.",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "scaleDistribution": {
                  "type": "linear"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 12,
            "y": 102
          },
          "id": 84,
          "options": {
            "calculate": false,
            "cellGap": 1,
            "color": {
              "exponent": 0.5,
              "fill": "dark-orange",
              "mode": "scheme",
              "reverse": false,
              "scale": "exponential",
              "scheme": "Spectral",
              "steps": 64
            },
            "exemplars": {
              "color": "rgba(255,0,255,0.7)"
            },
            "filterValues": {
              "le": 1e-9
            },
            "legend": {
              "show": false
            },
            "rowsFrame": {
              "layout": "auto"
            },
            "tooltip": {
              "mode": "single",
              "showColorScale": false,
              "yHistogram": false
            },
            "yAxis": {
              "axisPlacement": "left",
              "reverse": false,
              "unit": "dtdurations"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "editorMode": "code",
              "expr": "sum(\r\n    rate(zeebe_camunda_exporter_archiver_duration_seconds_bucket{cluster=~\"$cluster\", namespace=~\"$namespace\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"}[$__rate_interval])\r\n    * on(namespace)\r\n  group_left(\r\n    label_cloud_camunda_io_generation,\r\n    label_cloud_camunda_io_sales_plan_type\r\n  )\r\n  max(\r\n    kube_namespace_labels{\r\n      namespace=~\"$namespace\",\r\n      label_cloud_camunda_io_generation=~\"$generation\",\r\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n    }\r\n  ) by (\r\n    namespace\r\n  )\r\n    )\r\n     by (le)",
              "format": "heatmap",
              "interval": "30",
              "legendFormat": "{{le}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Archiving duration",
          "type": "heatmap"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Increase in flush duration.\n\nFilters by namespace, geo area, cloud provider, generation, sales plan type.",
          "fieldConfig": {
            "defaults": {
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "scaleDistribution": {
                  "type": "linear"
                }
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 9,
            "w": 12,
            "x": 0,
            "y": 111
          },
          "id": 69,
          "options": {
            "calculate": false,
            "cellGap": 1,
            "cellValues": {
              "unit": ""
            },
            "color": {
              "exponent": 0.5,
              "fill": "dark-orange",
              "mode": "scheme",
              "reverse": false,
              "scale": "exponential",
              "scheme": "Spectral",
              "steps": 64
            },
            "exemplars": {
              "color": "rgba(255,0,255,0.7)"
            },
            "filterValues": {
              "le": 1e-9
            },
            "legend": {
              "show": false
            },
            "rowsFrame": {
              "layout": "auto"
            },
            "tooltip": {
              "mode": "single",
              "showColorScale": false,
              "yHistogram": false
            },
            "yAxis": {
              "axisPlacement": "left",
              "decimals": 0,
              "reverse": false,
              "unit": "s"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum(\r\n    increase(\r\n        zeebe_elasticsearch_exporter_flush_duration_seconds_bucket{namespace=~\"$namespace\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"}[$__rate_interval]\r\n    )\r\n    * on(namespace)\r\n    group_left(\r\n        label_cloud_camunda_io_generation,\r\n        label_cloud_camunda_io_sales_plan_type\r\n    )\r\n    max(\r\n        kube_namespace_labels{\r\n        namespace=~\"$namespace\",\r\n        label_cloud_camunda_io_generation=~\"$generation\",\r\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n        }\r\n    ) by (\r\n        namespace\r\n    )\r\n) by (le)",
              "format": "heatmap",
              "instant": false,
              "interval": "30s",
              "legendFormat": "{{le}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Elasticsearch Exporter (flush duration)",
          "type": "heatmap"
        }
      ],
      "title": "Data Layer",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 14
      },
      "id": 101,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "auto",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 15
          },
          "id": 82,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "avg by (RECORD_TYPE, PARTITION_ID) (\n  (\n    rate(optimize_import_overallImportTime_seconds_sum{\n      namespace=~\"$namespace\",\n      camunda_geo_area=~\"$geo_area\", \n      camunda_provider=~\"$cloud_provider\"\n      }[$__rate_interval])\n    /\n    rate(optimize_import_overallImportTime_seconds_count{\n      namespace=~\"$namespace\",\n      camunda_geo_area=~\"$geo_area\", \n      camunda_provider=~\"$cloud_provider\"\n      }[$__rate_interval])\n  )\n  * on(namespace)\n  group_left(\n    label_cloud_camunda_io_generation,\n    label_cloud_camunda_io_sales_plan_type\n  )\n  max(\n    kube_namespace_labels{\n      namespace=~\"$namespace\",\n      label_cloud_camunda_io_generation=~\"$generation\",\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n    }\n  ) by (\n    namespace\n  )\n)",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Optimize Average Import Time",
          "type": "timeseries"
        }
      ],
      "title": "Optimize",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 15
      },
      "id": 100,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "$DS_PROMETHEUS"
          },
          "description": "Average import times across all record types by namespace and partition.\n\nFilters by namespace, geo area, cloud provider, generation, sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 5,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 11,
            "x": 0,
            "y": 16
          },
          "id": 96,
          "maxDataPoints": 100,
          "options": {
            "legend": {
              "calcs": [
                "max",
                "mean",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true,
              "sortBy": "Max",
              "sortDesc": true
            },
            "tooltip": {
              "hideZeros": true,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "uid": "$DS_PROMETHEUS"
              },
              "editorMode": "code",
              "exemplar": true,
              "expr": "avg by (namespace, partition) (\r\n  (\r\n    rate(operate_import_time_seconds_sum{\r\n      namespace=~\"$namespace\",\r\n      camunda_geo_area=~\"$geo_area\", \r\n      camunda_provider=~\"$cloud_provider\"\r\n      }[$__rate_interval])\r\n    /\r\n    rate(operate_import_time_seconds_count{\r\n      namespace=~\"$namespace\",\r\n      camunda_geo_area=~\"$geo_area\", \r\n      camunda_provider=~\"$cloud_provider\"\r\n      }[$__rate_interval])\r\n  )\r\n  * on(namespace)\r\n  group_left(\r\n    label_cloud_camunda_io_generation,\r\n    label_cloud_camunda_io_sales_plan_type\r\n  )\r\n  max(\r\n    kube_namespace_labels{\r\n      namespace=~\"$namespace\",\r\n      label_cloud_camunda_io_generation=~\"$generation\",\r\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n    }\r\n  ) by (\r\n    namespace\r\n  )\r\n)",
              "format": "time_series",
              "instant": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{namespace}} p{{partition}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Operate Average Import Time",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Top 20 import queue size by record type and namespace.\n\nThe difference between the last exported position of Zeebe and the last imported position of Operate.\n\nFilters by namespace, geo area, cloud provider, generation and sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 5,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "short"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 11,
            "x": 11,
            "y": 16
          },
          "id": 90,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": true,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "topk(20, sum(operate_import_queue_size{namespace=~\"$namespace\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"}\r\n    * on(namespace)\r\n    group_left(\r\n        label_cloud_camunda_io_generation,\r\n        label_cloud_camunda_io_sales_plan_type\r\n    )\r\n    max(\r\n        kube_namespace_labels{\r\n        namespace=~\"$namespace\",\r\n        label_cloud_camunda_io_generation=~\"$generation\",\r\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n        }\r\n    ) by (\r\n        namespace\r\n    )\r\n) by (type, namespace)\r\n)",
              "instant": false,
              "legendFormat": "{{namespace}} {{type}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Operate Import queue size",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 2,
            "x": 22,
            "y": 16
          },
          "id": 98,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "<center>\r\n<strong><a href=\"/d/6MTxqUDWk/operate?orgId=1&$__url_time_range&var-DS_PROMETHEUS=thanos-global-view&var-namespace=${namespace}&var-pod=$__all&var-partition=$__all\" target=\"_blank\">\r\nOperate<br/>Dashboard</a></strong>\r\n<br/><br/><br/>\r\n<strong><a href=\"/d/benchmark-1/camunda-cloud??orgId=1&$__url_time_range&var-DS_PROMETHEUS=thanos-global-view&var-namespace=${namespace}&var-pod=$__all&var-partition=$__all\" target=\"_blank\">\r\nBenchmark<br/>Dashboard</a></strong>\r\n</center>",
            "mode": "html"
          },
          "pluginVersion": "12.2.0",
          "title": "Links",
          "type": "text"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Average archiver query latencies over the course of 10 minutes by namespace.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "links": [],
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": [
              {
                "__systemRef": "hideSeriesFrom",
                "matcher": {
                  "id": "byNames",
                  "options": {
                    "mode": "exclude",
                    "names": [
                      "Archiver read latency"
                    ],
                    "prefix": "All except:",
                    "readOnly": true
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": false,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 11,
            "x": 0,
            "y": 24
          },
          "id": 97,
          "options": {
            "alertThreshold": true,
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": true,
              "expr": "avg(rate(operate_archiver_query_seconds_sum{namespace=~\"$namespace\"}[10m])/rate(operate_archiver_query_seconds_count{namespace=~\"$namespace\"}[10m]))",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Archiver read latency",
              "range": true,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": true,
              "expr": "avg(rate(operate_archiver_reindex_query_seconds_sum{namespace=~\"$namespace\"}[10m])/rate(operate_archiver_reindex_query_seconds_count{namespace=~\"$namespace\"}[10m]))",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Archiver reindex latency",
              "range": true,
              "refId": "B"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": true,
              "expr": "avg(rate(operate_archiver_delete_query_seconds_sum{namespace=~\"$namespace\"}[10m])/rate(operate_archiver_delete_query_seconds_count{namespace=~\"$namespace\"}[10m]))",
              "format": "time_series",
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "Archiver delete latency",
              "range": true,
              "refId": "C"
            }
          ],
          "title": "Operate Archiver latencies, 10 min average, sec",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Post importer queue size by namespace and partition.\n\nFilters by namespace, geo area, cloud provider, generation and sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 5,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 80
                  }
                ]
              }
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 11,
            "x": 11,
            "y": 24
          },
          "id": 91,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": true,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum(operate_post_importer_queue_size{namespace=~\"$namespace\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"}\r\n* on(namespace)\r\n  group_left(\r\n    label_cloud_camunda_io_generation,\r\n    label_cloud_camunda_io_sales_plan_type\r\n  )\r\n  max(\r\n    kube_namespace_labels{\r\n      namespace=~\"$namespace\",\r\n      label_cloud_camunda_io_generation=~\"$generation\",\r\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n    }\r\n  ) by (\r\n    namespace\r\n  ) ) by (partition, namespace)",
              "instant": false,
              "legendFormat": "{{namespace}} p{{partition}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Operate Post importer queue size",
          "type": "timeseries"
        },
        {
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 2,
            "w": 24,
            "x": 0,
            "y": 32
          },
          "id": 102,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "",
            "mode": "markdown"
          },
          "pluginVersion": "12.2.0",
          "title": "",
          "transparent": true,
          "type": "text"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Import times by namespace and partition across all record types.\n\nFilters by namespace, geo area, cloud provider, generation and sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": true,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "off"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              },
              "unit": "s"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 8,
            "w": 11,
            "x": 0,
            "y": 34
          },
          "id": 94,
          "options": {
            "legend": {
              "calcs": [
                "max",
                "mean",
                "lastNotNull"
              ],
              "displayMode": "table",
              "placement": "right",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": true,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "avg by (namespace, partition) (\r\n    (\r\n      rate(tasklist_import_time_seconds_sum{\r\n        namespace=~\"$namespace\",\r\n        camunda_geo_area=~\"$geo_area\", \r\n        camunda_provider=~\"$cloud_provider\"\r\n        }[$__rate_interval])\r\n      /\r\n      rate(tasklist_import_time_seconds_count{\r\n        namespace=~\"$namespace\",\r\n        camunda_geo_area=~\"$geo_area\", \r\n        camunda_provider=~\"$cloud_provider\"\r\n        }[$__rate_interval])\r\n    )\r\n    * on(namespace)\r\n    group_left(\r\n      label_cloud_camunda_io_generation,\r\n      label_cloud_camunda_io_sales_plan_type\r\n    )\r\n    max(\r\n      kube_namespace_labels{\r\n        namespace=~\"$namespace\",\r\n        label_cloud_camunda_io_generation=~\"$generation\",\r\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n      }\r\n    ) by (\r\n      namespace\r\n    )\r\n  )",
              "hide": false,
              "instant": false,
              "legendFormat": "{{namespace}} p{{partition}} {{type}}",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Tasklist Average Import Time",
          "type": "timeseries"
        }
      ],
      "title": "Legacy Operate/Tasklist",
      "type": "row"
    },
    {
      "collapsed": true,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 16
      },
      "id": 47,
      "panels": [
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "CPU usage of core features containers relative to the resource limit. Shows the top 20.\n\nCan be filtered by namespace, cluster, geo area, cloud provider, generation and sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 6,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "dashed+area"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "orange",
                    "value": 0.9
                  },
                  {
                    "color": "dark-red",
                    "value": 1
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 11,
            "x": 0,
            "y": 207
          },
          "id": 60,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "disableTextWrap": false,
              "editorMode": "code",
              "expr": "topk(20,\r\n  avg (node_namespace_pod_container:container_cpu_usage_seconds_total:sum_irate{\r\n    container=~\"zeebe.*|operate.*|tasklist.*|optimize.*|elasticsearch.*\",\r\n    camunda_geo_area=~\"$geo_area\",\r\n    camunda_provider=~\"$cloud_provider\",\r\n    namespace=~\"$namespace\",\r\n    cluster=~\"$cluster\"\r\n  }\r\n  * on(namespace)\r\n  group_left(\r\n    label_cloud_camunda_io_generation,\r\n    label_cloud_camunda_io_sales_plan_type\r\n  )\r\n  max(\r\n    kube_namespace_labels{\r\n      namespace=~\"$namespace\",\r\n      label_cloud_camunda_io_generation=~\"$generation\",\r\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n  }\r\n  ) by (\r\n    namespace\r\n  )\r\n  ) by (container, namespace)\r\n  /\r\n  avg (kube_pod_container_resource_limits{resource=\"cpu\", namespace=~\"$namespace\", cluster=~\"$cluster\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"}\r\n    * on(namespace)\r\n    group_left(\r\n      label_cloud_camunda_io_generation,\r\n      label_cloud_camunda_io_sales_plan_type\r\n    )\r\n    max(\r\n      kube_namespace_labels{\r\n        namespace=~\"$namespace\",\r\n        label_cloud_camunda_io_generation=~\"$generation\",\r\n        label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n      }\r\n    ) by (\r\n      namespace\r\n    )\r\n  ) by (container, namespace)\r\n)",
              "fullMetaSearch": false,
              "includeNullMetadata": true,
              "legendFormat": "{{namespace}} {{container}}",
              "range": true,
              "refId": "Zeebe",
              "useBackend": false
            }
          ],
          "title": "CPU usage relative to limit",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "thanos-global-view"
          },
          "description": "Memory usage relative to the resource limit. Shows the top 20 containers.\n\nCan be filtered by namespace, cluster, geo area, cloud provider, generation and sales plan type.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 10,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 4,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "dashed+area"
                }
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  },
                  {
                    "color": "orange",
                    "value": 0.9
                  },
                  {
                    "color": "red",
                    "value": 1
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 11,
            "x": 11,
            "y": 207
          },
          "id": 61,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "thanos-global-view"
              },
              "editorMode": "code",
              "expr": "topk(20,\r\navg (node_namespace_pod_container:container_memory_working_set_bytes{container=~\"zeebe.*|operate.*|tasklist.*|optimize.*|elasticsearch.*\",\r\n    cluster=~\"$cluster\",\r\n    namespace=~\"$namespace\",\r\n    camunda_geo_area=~\"$geo_area\",\r\n    camunda_provider=~\"$cloud_provider\"}\r\n    * on(namespace)\r\n  group_left(\r\n    label_cloud_camunda_io_generation,\r\n    label_cloud_camunda_io_sales_plan_type\r\n  )\r\n  max(\r\n    kube_namespace_labels{\r\n      namespace=~\"$namespace\",\r\n      label_cloud_camunda_io_generation=~\"$generation\",\r\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n    }\r\n  ) by (\r\n    namespace\r\n  )\r\n  ) by (container, namespace)\r\n    /\r\navg (kube_pod_container_resource_limits{resource=\"memory\", cluster=~\"$cluster\", namespace=~\"$namespace\", camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\"}\r\n* on(namespace)\r\n  group_left(\r\n    label_cloud_camunda_io_generation,\r\n    label_cloud_camunda_io_sales_plan_type\r\n  )\r\n  max(\r\n    kube_namespace_labels{\r\n      namespace=~\"$namespace\",\r\n      label_cloud_camunda_io_generation=~\"$generation\",\r\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\r\n    }\r\n  ) by (\r\n    namespace\r\n  )\r\n  ) by (container, namespace)\r\n)",
              "legendFormat": "{{namespace}} {{container}}",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Memory usage relative to limit",
          "type": "timeseries"
        },
        {
          "description": "SRE Dashboard for Infrastructure deep-dive",
          "fieldConfig": {
            "defaults": {},
            "overrides": []
          },
          "gridPos": {
            "h": 10,
            "w": 2,
            "x": 22,
            "y": 207
          },
          "id": 80,
          "options": {
            "code": {
              "language": "plaintext",
              "showLineNumbers": false,
              "showMiniMap": false
            },
            "content": "<center>\n<strong><a href=\"/d/kubernetes-workload/kubernetes-workload?orgId=1&$__url_time_range&var-DS_PROMETHEUS=thanos-global-view&var-namespace=${namespace}&var-pod=$__all&var-partition=$__all)\" target=\"_blank\">\nSRE<br/>Dashboard</a></strong>\n</center>",
            "mode": "html"
          },
          "pluginVersion": "12.2.0",
          "title": "Links",
          "type": "text"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Displays the top 10 namespaces with the highest average disk usage across PVCs.\nDisk usage is calculated as:\n\nused_bytes / capacity_bytes\n\nThis helps you quickly identify namespaces approaching PVC storage limits, indicating potential need for cleanup or volume resizing.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "axisBorderShow": false,
                "axisCenteredZero": false,
                "axisColorMode": "text",
                "axisLabel": "",
                "axisPlacement": "auto",
                "barAlignment": 0,
                "barWidthFactor": 0.6,
                "drawStyle": "line",
                "fillOpacity": 0,
                "gradientMode": "none",
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                },
                "insertNulls": false,
                "lineInterpolation": "linear",
                "lineWidth": 1,
                "pointSize": 5,
                "scaleDistribution": {
                  "type": "linear"
                },
                "showPoints": "never",
                "showValues": false,
                "spanNulls": false,
                "stacking": {
                  "group": "A",
                  "mode": "none"
                },
                "thresholdsStyle": {
                  "mode": "line+area"
                }
              },
              "mappings": [],
              "max": 1,
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "transparent",
                    "value": 0
                  },
                  {
                    "color": "red",
                    "value": 0.8
                  }
                ]
              },
              "unit": "percentunit"
            },
            "overrides": [
              {
                "__systemRef": "hideSeriesFrom",
                "matcher": {
                  "id": "byNames",
                  "options": {
                    "mode": "exclude",
                    "names": [
                      "91cfef1c-dcc6-43e6-8132-dcfa7d2f9c9c-zeebe"
                    ],
                    "prefix": "All except:",
                    "readOnly": true
                  }
                },
                "properties": [
                  {
                    "id": "custom.hideFrom",
                    "value": {
                      "legend": false,
                      "tooltip": true,
                      "viz": true
                    }
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 12,
            "x": 0,
            "y": 217
          },
          "id": 27,
          "options": {
            "legend": {
              "calcs": [],
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "tooltip": {
              "hideZeros": false,
              "mode": "multi",
              "sort": "desc"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "topk(10,\n  avg by ($group_by) (\n    (\n      avg by ($group_by, namespace) (\n        kubelet_volume_stats_used_bytes{\n          camunda_region=~\"$region\",\n          namespace=~\"$namespace\"\n        }\n        /\n        kubelet_volume_stats_capacity_bytes{\n          camunda_region=~\"$region\",\n          namespace=~\"$namespace\"\n        }\n      )\n      * on(namespace) group_left()\n      max(\n        kube_namespace_labels{\n          label_cloud_camunda_io_generation=~\"$generation\",\n          label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n        }\n      ) by (namespace)\n    )\n  )\n)\n",
              "legendFormat": "__auto",
              "range": true,
              "refId": "A"
            }
          ],
          "title": "Highest PVC Disk Usage",
          "type": "timeseries"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Shows the proportion of pods that are fully available vs partially available over the past 15 minutes.\n\nAvailable: Pods with 100% readiness\n\nUnavailable: Pods that were not fully ready during this window\n\nUse this chart to quickly assess cluster-level pod health and spot degraded workloads.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "palette-classic"
              },
              "custom": {
                "hideFrom": {
                  "legend": false,
                  "tooltip": false,
                  "viz": false
                }
              },
              "mappings": []
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "pod"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Show details",
                        "url": "/d/zeebe-dashboard/zeebe?orgId=1&from=now-15m&to=now&timezone=browser&var-DS_PROMETHEUS=$DS_PROMETHEUS&var-cluster=$__all&var-namespace=$__all&var-pod=${__value.raw}&var-partition=$__all&var-memory_state=committed\n"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 12,
            "y": 217
          },
          "id": 26,
          "options": {
            "legend": {
              "displayMode": "list",
              "placement": "bottom",
              "showLegend": true
            },
            "pieType": "pie",
            "reduceOptions": {
              "calcs": [
                "lastNotNull"
              ],
              "fields": "",
              "values": false
            },
            "sort": "desc",
            "tooltip": {
              "hideZeros": false,
              "mode": "single",
              "sort": "none"
            }
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "sum by (status) (\n  (\n    count by (status, namespace) (\n      (\n        label_replace(\n          avg by (pod, namespace) (\n            avg_over_time(kube_pod_container_status_ready{\n              camunda_region=~\"$region\",\n              container!~\"curator|curl\",\n              namespace=~\"$namespace\"\n            }[15m])\n          ) == 1,\n          \"status\", \"Available\", \"__name__\", \".*\"\n        )\n      )\n    )\n  )\n  * on(namespace) group_left()\n  max(\n    kube_namespace_labels{\n      label_cloud_camunda_io_generation=~\"$generation\",\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n    }\n  ) by (namespace)\n)\n",
              "format": "time_series",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A"
            },
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "expr": "sum by (status) (\n  (\n    count by (status, namespace) (\n      (\n        label_replace(\n          avg by (pod, namespace) (\n            avg_over_time(kube_pod_container_status_ready{\n              camunda_region=~\"$region\",\n              container!~\"curator|curl\",\n              namespace=~\"$namespace\"\n            }[15m])\n          ) < 1,\n          \"status\", \"NotAvailable\", \"__name__\", \".*\"\n        )\n      )\n    )\n  )\n  * on(namespace) group_left()\n  max(\n    kube_namespace_labels{\n      label_cloud_camunda_io_generation=~\"$generation\",\n      label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n    }\n  ) by (namespace)\n)\n",
              "hide": false,
              "instant": false,
              "legendFormat": "__auto",
              "range": true,
              "refId": "B"
            }
          ],
          "title": "Pod Availability Distribution",
          "type": "piechart"
        },
        {
          "datasource": {
            "type": "prometheus",
            "uid": "${DS_PROMETHEUS}"
          },
          "description": "Lists pods with less than 100% readiness over the past 15 minutes, indicating possible instability or restarts.\n\nEach row shows:\n\nThe pod name\n\nIts average readiness (from kube_pod_container_status_ready)\n\nOnly pods with availability < 1 are shown. Use this to monitor degraded pod availability across your region or cluster.",
          "fieldConfig": {
            "defaults": {
              "color": {
                "mode": "thresholds"
              },
              "custom": {
                "align": "auto",
                "cellOptions": {
                  "type": "auto"
                },
                "footer": {
                  "reducers": []
                },
                "inspect": false
              },
              "mappings": [],
              "thresholds": {
                "mode": "absolute",
                "steps": [
                  {
                    "color": "green",
                    "value": 0
                  }
                ]
              }
            },
            "overrides": [
              {
                "matcher": {
                  "id": "byName",
                  "options": "pod"
                },
                "properties": [
                  {
                    "id": "links",
                    "value": [
                      {
                        "targetBlank": true,
                        "title": "Show details",
                        "url": "/d/zeebe-dashboard/zeebe?orgId=1&from=now-15m&to=now&timezone=browser&var-DS_PROMETHEUS=$DS_PROMETHEUS&var-cluster=$__all&var-namespace=$__all&var-pod=${__value.raw}&var-partition=$__all&var-memory_state=committed\n"
                      }
                    ]
                  }
                ]
              }
            ]
          },
          "gridPos": {
            "h": 8,
            "w": 6,
            "x": 18,
            "y": 217
          },
          "id": 24,
          "options": {
            "cellHeight": "sm",
            "showHeader": true,
            "sortBy": [
              {
                "desc": true,
                "displayName": "Availability"
              }
            ]
          },
          "pluginVersion": "12.2.0",
          "targets": [
            {
              "datasource": {
                "type": "prometheus",
                "uid": "${DS_PROMETHEUS}"
              },
              "editorMode": "code",
              "exemplar": false,
              "expr": "avg by (pod, namespace) (\n  avg_over_time(kube_pod_container_status_ready{\n    camunda_region=~\"$region\",\n    container!~\"curator|curl\",\n    namespace=~\"$namespace\"\n  }[15m])\n)\n* on(namespace)\ngroup_left()\nmax(\n  kube_namespace_labels{\n    label_cloud_camunda_io_generation=~\"$generation\",\n    label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"\n  }\n) by (namespace)\n",
              "format": "table",
              "instant": true,
              "legendFormat": "__auto",
              "range": false,
              "refId": "A"
            }
          ],
          "title": "Pods with Partial Availability",
          "transformations": [
            {
              "id": "organize",
              "options": {
                "excludeByName": {
                  "Time": true,
                  "namespace": true
                },
                "includeByName": {},
                "indexByName": {},
                "renameByName": {
                  "Value": "Availability"
                }
              }
            },
            {
              "id": "filterByValue",
              "options": {
                "filters": [
                  {
                    "config": {
                      "id": "lower",
                      "options": {
                        "value": "1"
                      }
                    },
                    "fieldName": "Availability"
                  }
                ],
                "match": "all",
                "type": "include"
              }
            },
            {
              "id": "sortBy",
              "options": {
                "fields": {},
                "sort": [
                  {
                    "desc": false,
                    "field": "Availability"
                  }
                ]
              }
            }
          ],
          "type": "table"
        }
      ],
      "title": "Infrastructure",
      "type": "row"
    }
  ],
  "preload": false,
  "schemaVersion": 42,
  "tags": [],
  "templating": {
    "list": [
      {
        "current": {
          "text": "Thanos: global-view",
          "value": "thanos-global-view"
        },
        "label": "datasource",
        "name": "DS_PROMETHEUS",
        "options": [],
        "query": "prometheus",
        "refresh": 1,
        "regex": "",
        "type": "datasource"
      },
      {
        "allowCustomValue": false,
        "current": {
          "text": "namespace",
          "value": "namespace"
        },
        "name": "group_by",
        "options": [
          {
            "selected": true,
            "text": "namespace",
            "value": "namespace"
          },
          {
            "selected": false,
            "text": "container",
            "value": "container"
          },
          {
            "selected": false,
            "text": "node",
            "value": "node"
          },
          {
            "selected": false,
            "text": "pod",
            "value": "pod"
          },
          {
            "selected": false,
            "text": "camunda_provider",
            "value": "camunda_provider"
          },
          {
            "selected": false,
            "text": "camunda_geo_area",
            "value": "camunda_geo_area"
          },
          {
            "selected": false,
            "text": "camunda_cloud_project",
            "value": "camunda_cloud_project"
          }
        ],
        "query": "namespace,container,node,pod,camunda_provider,camunda_geo_area,camunda_cloud_project",
        "type": "custom"
      },
      {
        "allValue": ".*",
        "allowCustomValue": true,
        "current": {
          "text": "All",
          "value": "$__all"
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${DS_PROMETHEUS}"
        },
        "definition": "label_values(kube_namespace_labels{camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\", label_cloud_camunda_io_generation=~\"$generation\", label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"},namespace)",
        "includeAll": true,
        "multi": true,
        "name": "namespace",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(kube_namespace_labels{camunda_geo_area=~\"$geo_area\", camunda_provider=~\"$cloud_provider\", label_cloud_camunda_io_generation=~\"$generation\", label_cloud_camunda_io_sales_plan_type=~\"$sales_plan_type\"},namespace)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "type": "query"
      },
      {
        "allValue": ".*",
        "current": {
          "text": "All",
          "value": "$__all"
        },
        "datasource": {
          "type": "prometheus",
          "uid": "thanos-global-view"
        },
        "definition": "label_values(atomix_role,cluster)",
        "description": "Kubernetes cluster",
        "includeAll": true,
        "name": "cluster",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(atomix_role,cluster)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "sort": 1,
        "type": "query"
      },
      {
        "allowCustomValue": false,
        "current": {
          "text": "All",
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "thanos-global-view"
        },
        "definition": "label_values(camunda_region)",
        "includeAll": true,
        "multi": true,
        "name": "region",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(camunda_region)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "type": "query"
      },
      {
        "allValue": "zeebe.*|operate.*|tasklist.*|optimize.*|elasticsearch.*",
        "allowCustomValue": true,
        "current": {
          "text": "All",
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "thanos-global-view"
        },
        "definition": "label_values(container_cpu_usage_seconds_total,container)",
        "includeAll": true,
        "multi": true,
        "name": "container",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(container_cpu_usage_seconds_total,container)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "zeebe.*|operate.*|tasklist.*|optimize.*|elasticsearch.*",
        "sort": 1,
        "type": "query"
      },
      {
        "allValue": ".*",
        "current": {
          "text": "All",
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${DS_PROMETHEUS}"
        },
        "definition": "label_values(kube_namespace_labels,camunda_geo_area)",
        "includeAll": true,
        "label": "Geo area",
        "multi": true,
        "name": "geo_area",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(kube_namespace_labels,camunda_geo_area)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "type": "query"
      },
      {
        "allValue": ".*",
        "current": {
          "text": "All",
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${DS_PROMETHEUS}"
        },
        "definition": "label_values(kube_namespace_labels,camunda_provider)",
        "description": "",
        "includeAll": true,
        "label": "Cloud provider",
        "multi": true,
        "name": "cloud_provider",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(kube_namespace_labels,camunda_provider)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "type": "query"
      },
      {
        "allValue": ".*",
        "current": {
          "text": "All",
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${DS_PROMETHEUS}"
        },
        "definition": "label_values(kube_namespace_labels,label_cloud_camunda_io_generation)",
        "description": "",
        "includeAll": true,
        "label": "Generation",
        "multi": true,
        "name": "generation",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(kube_namespace_labels,label_cloud_camunda_io_generation)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "sort": 1,
        "type": "query"
      },
      {
        "allValue": ".*",
        "current": {
          "text": "All",
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "${DS_PROMETHEUS}"
        },
        "definition": "label_values(kube_namespace_labels,label_cloud_camunda_io_sales_plan_type)",
        "description": "",
        "includeAll": true,
        "label": "Sales plan type",
        "multi": true,
        "name": "sales_plan_type",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(kube_namespace_labels,label_cloud_camunda_io_sales_plan_type)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "type": "query"
      },
      {
        "allowCustomValue": true,
        "current": {
          "text": "All",
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "thanos-global-view"
        },
        "definition": "label_values(http_server_requests_seconds_count{container=~\"$container\", uri!~\"^/($|actuator($|/.*)|\\\\*\\\\*($|/.*)|\\\\*\\\\*/\\\\{regex:\\\\[\\\\\\\\w-]+\\\\})$\"},uri)",
        "includeAll": true,
        "multi": true,
        "name": "uri",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(http_server_requests_seconds_count{container=~\"$container\", uri!~\"^/($|actuator($|/.*)|\\\\*\\\\*($|/.*)|\\\\*\\\\*/\\\\{regex:\\\\[\\\\\\\\w-]+\\\\})$\"},uri)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "type": "query"
      },
      {
        "allowCustomValue": false,
        "current": {
          "text": "All",
          "value": [
            "$__all"
          ]
        },
        "datasource": {
          "type": "prometheus",
          "uid": "thanos-global-view"
        },
        "definition": "label_values(grpc_server_processing_duration_seconds_count,method)",
        "includeAll": true,
        "multi": true,
        "name": "method",
        "options": [],
        "query": {
          "qryType": 1,
          "query": "label_values(grpc_server_processing_duration_seconds_count,method)",
          "refId": "PrometheusVariableQueryEditor-VariableQuery"
        },
        "refresh": 1,
        "regex": "",
        "type": "query"
      }
    ]
  },
  "time": {
    "from": "now-1h",
    "to": "now"
  },
  "timepicker": {},
  "timezone": "browser",
  "title": "Core Features Overview",
  "uid": "fel9lob8vajggd",
  "version": 371
}
