app {
  brokerUrl = "http://localhost:26500"
  brokerUrl = ${?ZEEBE_GRPC_ADDRESS}
  brokerRestUrl = "http://localhost:8080"
  brokerRestUrl = ${?ZEEBE_REST_ADDRESS}
  brokerManagementUrl = "http://camunda-gateway:9600"
  brokerManagementUrl = ${?ZEEBE_MANAGEMENT_ADDRESS}
  tls = false
  tls = ${?TLS}
  preferRest = false
  monitoringPort = 9600
  monitorDataAvailability = true
  monitorDataAvailabilityInterval = 250ms

  auth {
    type = "NONE" # NONE, BASIC
    type = ${?ZEEBE_AUTH_TYPE}
    basic {
      username = "demo"
      password = "demo"
    }

    oauth {
      audience = "${brokerUrl}"
      audience = ${?ZEEBE_TOKEN_AUDIENCE}
      clientId = "client-id"
      clientId = ${?ZEEBE_CLIENT_ID}
      clientSecret = ""
      clientSecret = ${?ZEEBE_CLIENT_SECRET}
      authzUrl = "http://localhost:8080/auth/realms/demo/protocol/openid-connect/auth"
      authzUrl = ${?ZEEBE_AUTHORIZATION_SERVER_URL}
    }
  }

  starter {
    processId = "benchmark"
    rate = 200
    threads = 2
    bpmnXmlPath = "bpmn/one_task.bpmn"
    extraBpmnModels = []
    businessKey = "businessKey"
    payloadPath = "bpmn/big_payload.json"
    withResults = false
    withResultsTimeout = 60s
    durationLimit = 0
    msgName = "msg"
    startViaMessage = false
    # Dynamic rate adjustment settings (only used when rate <= 0)
    rateIncreaseFactor = 0.03  # 2% increase per adjustment
    rateDecreaseFactor = 0.05  # 5% decrease per adjustment
    rateAdjustmentIntervalMs = 5000  # Adjust rate every 5000ms (5 second)
  }

  worker {
    jobType = "benchmark-task"
    workerName = "benchmark-worker"
    threads = 10
    capacity = 30
    pollingDelay = 1s
    completionDelay = 300ms
    payloadPath = "bpmn/big_payload.json"
    streamEnabled = true
    # if 0, timeout defaults to completionDelay * 6
    timeout = 0
    # timeout = 1800ms
    sendMessage = false
    messageName = "messageName"
    correlationKeyVariableName = "correlationKey-var"
  }

  benchmark {
    name = "NONE"
    name = ${?BENCHMARK_NAME}
    duration = 10m
    duration = ${?BENCHMARK_DURATION}
  }
}
