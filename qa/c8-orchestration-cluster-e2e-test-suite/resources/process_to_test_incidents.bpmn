<?xml version="1.0" encoding="UTF-8"?>
<bpmn:definitions xmlns:bpmn="http://www.omg.org/spec/BPMN/20100524/MODEL" xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" xmlns:di="http://www.omg.org/spec/DD/20100524/DI" xmlns:ns1="http://camunda.org/schema/modeler/1.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:zeebe="http://camunda.org/schema/zeebe/1.0" id="Definitions_root_cause" targetNamespace="http://bpmn.io/schema/bpmn" exporter="Camunda Web Modeler" exporterVersion="a8d7898" ns1:executionPlatform="Camunda Cloud" ns1:executionPlatformVersion="8.8.0">
  <bpmn:process id="root-cause-test" name="Process-Incident" isExecutable="true">
    <bpmn:startEvent id="Start" name="Start">
      <bpmn:outgoing>Flow_Start</bpmn:outgoing>
    </bpmn:startEvent>
    <bpmn:sequenceFlow id="Flow_Start" sourceRef="Start" targetRef="Gateway_Split" />
    <bpmn:parallelGateway id="Gateway_Split">
      <bpmn:incoming>Flow_Start</bpmn:incoming>
      <bpmn:outgoing>Flow_A</bpmn:outgoing>
      <bpmn:outgoing>Flow_B</bpmn:outgoing>
      <bpmn:outgoing>Flow_D</bpmn:outgoing>
      <bpmn:outgoing>Flow_E</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="Flow_A" sourceRef="Gateway_Split" targetRef="Task_Decision" />
    <bpmn:businessRuleTask id="Task_Decision" name="A: Decision Chain">
      <bpmn:extensionElements>
        <zeebe:calledDecision decisionId="decision-a" resultVariable="test" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_A</bpmn:incoming>
      <bpmn:outgoing>Flow_A_Merge</bpmn:outgoing>
    </bpmn:businessRuleTask>
    <bpmn:sequenceFlow id="Flow_A_Merge" sourceRef="Task_Decision" targetRef="Gateway_Merge" />
    <bpmn:sequenceFlow id="Flow_B" sourceRef="Gateway_Split" targetRef="Task_CallActivity" />
    <bpmn:callActivity id="Task_CallActivity" name="B: Call Activity Level 1">
      <bpmn:extensionElements>
        <zeebe:calledElement processId="call-level-1-process" propagateAllChildVariables="true" />
        <zeebe:ioMapping>
          <zeebe:input source="=1/0" target="demoFail" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_B</bpmn:incoming>
      <bpmn:outgoing>Flow_B_Merge</bpmn:outgoing>
    </bpmn:callActivity>
    <bpmn:sequenceFlow id="Flow_B_Merge" sourceRef="Task_CallActivity" targetRef="Gateway_Merge" />
    <bpmn:sequenceFlow id="Flow_D" sourceRef="Gateway_Split" targetRef="Task_IOMapping" />
    <bpmn:serviceTask id="Task_IOMapping" name="D: IO Mapping Failure">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="rootCauseIOMapping" />
        <zeebe:ioMapping>
          <zeebe:input source="=assert(false, &#34;IO mapping failed&#34;)" target="result" />
        </zeebe:ioMapping>
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_D</bpmn:incoming>
      <bpmn:outgoing>Flow_D_Merge</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_D_Merge" sourceRef="Task_IOMapping" targetRef="Gateway_Merge" />
    <bpmn:sequenceFlow id="Flow_E" sourceRef="Gateway_Split" targetRef="Gateway_Expression" />
    <bpmn:exclusiveGateway id="Gateway_Expression" name="E: Expression Test" default="Flow_E_Default">
      <bpmn:incoming>Flow_E</bpmn:incoming>
      <bpmn:outgoing>Flow_E_Condition</bpmn:outgoing>
      <bpmn:outgoing>Flow_E_Default</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_E_Condition" name="Bad Expression" sourceRef="Gateway_Expression" targetRef="Task_E_Bad">
      <bpmn:conditionExpression xsi:type="bpmn:tFormalExpression">=assert(false, "Expression evaluation failed")</bpmn:conditionExpression>
    </bpmn:sequenceFlow>
    <bpmn:sequenceFlow id="Flow_E_Default" sourceRef="Gateway_Expression" targetRef="Task_E_Good" />
    <bpmn:serviceTask id="Task_E_Bad" name="Bad Path">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="rootCauseBadPath" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_E_Condition</bpmn:incoming>
      <bpmn:outgoing>Flow_E_Bad_Merge</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:serviceTask id="Task_E_Good" name="Default Path">
      <bpmn:extensionElements>
        <zeebe:taskDefinition type="rootCauseGoodPath" />
      </bpmn:extensionElements>
      <bpmn:incoming>Flow_E_Default</bpmn:incoming>
      <bpmn:outgoing>Flow_E_Good_Merge</bpmn:outgoing>
    </bpmn:serviceTask>
    <bpmn:sequenceFlow id="Flow_E_Bad_Merge" sourceRef="Task_E_Bad" targetRef="Gateway_E_Join" />
    <bpmn:sequenceFlow id="Flow_E_Good_Merge" sourceRef="Task_E_Good" targetRef="Gateway_E_Join" />
    <bpmn:exclusiveGateway id="Gateway_E_Join">
      <bpmn:incoming>Flow_E_Bad_Merge</bpmn:incoming>
      <bpmn:incoming>Flow_E_Good_Merge</bpmn:incoming>
      <bpmn:outgoing>Flow_E_Merge</bpmn:outgoing>
    </bpmn:exclusiveGateway>
    <bpmn:sequenceFlow id="Flow_E_Merge" sourceRef="Gateway_E_Join" targetRef="Gateway_Merge" />
    <bpmn:parallelGateway id="Gateway_Merge">
      <bpmn:incoming>Flow_A_Merge</bpmn:incoming>
      <bpmn:incoming>Flow_B_Merge</bpmn:incoming>
      <bpmn:incoming>Flow_D_Merge</bpmn:incoming>
      <bpmn:incoming>Flow_E_Merge</bpmn:incoming>
      <bpmn:outgoing>Flow_End</bpmn:outgoing>
    </bpmn:parallelGateway>
    <bpmn:sequenceFlow id="Flow_End" sourceRef="Gateway_Merge" targetRef="End" />
    <bpmn:endEvent id="End" name="End">
      <bpmn:incoming>Flow_End</bpmn:incoming>
    </bpmn:endEvent>
  </bpmn:process>
  <bpmndi:BPMNDiagram id="BPMNDiagram_1">
    <bpmndi:BPMNPlane id="BPMNPlane_1" bpmnElement="root-cause-test">
      <bpmndi:BPMNShape id="Shape_Start" bpmnElement="Start">
        <dc:Bounds x="152" y="312" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="159" y="355" width="24" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Split" bpmnElement="Gateway_Split">
        <dc:Bounds x="245" y="305" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Decision" bpmnElement="Task_Decision">
        <dc:Bounds x="410" y="80" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Call" bpmnElement="Task_CallActivity">
        <dc:Bounds x="410" y="190" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_IO" bpmnElement="Task_IOMapping">
        <dc:Bounds x="410" y="290" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Gateway_E" bpmnElement="Gateway_Expression" isMarkerVisible="true">
        <dc:Bounds x="405" y="455" width="50" height="50" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="346" y="426" width="68" height="27" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_E_Bad" bpmnElement="Task_E_Bad">
        <dc:Bounds x="530" y="370" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_E_Good" bpmnElement="Task_E_Good">
        <dc:Bounds x="530" y="530" width="100" height="80" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_E_Join" bpmnElement="Gateway_E_Join" isMarkerVisible="true">
        <dc:Bounds x="705" y="435" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_Merge" bpmnElement="Gateway_Merge">
        <dc:Bounds x="755" y="305" width="50" height="50" />
      </bpmndi:BPMNShape>
      <bpmndi:BPMNShape id="Shape_End" bpmnElement="End">
        <dc:Bounds x="862" y="312" width="36" height="36" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="870" y="355" width="20" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNShape>
      <bpmndi:BPMNEdge id="Edge_Start" bpmnElement="Flow_Start">
        <di:waypoint x="188" y="330" />
        <di:waypoint x="245" y="330" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_A" bpmnElement="Flow_A">
        <di:waypoint x="270" y="305" />
        <di:waypoint x="270" y="120" />
        <di:waypoint x="410" y="120" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_A_Merge" bpmnElement="Flow_A_Merge">
        <di:waypoint x="510" y="120" />
        <di:waypoint x="780" y="120" />
        <di:waypoint x="780" y="305" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_B" bpmnElement="Flow_B">
        <di:waypoint x="270" y="305" />
        <di:waypoint x="270" y="230" />
        <di:waypoint x="410" y="230" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_B_Merge" bpmnElement="Flow_B_Merge">
        <di:waypoint x="510" y="230" />
        <di:waypoint x="780" y="230" />
        <di:waypoint x="780" y="305" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_D" bpmnElement="Flow_D">
        <di:waypoint x="295" y="330" />
        <di:waypoint x="410" y="330" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_D_Merge" bpmnElement="Flow_D_Merge">
        <di:waypoint x="510" y="330" />
        <di:waypoint x="755" y="330" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_E" bpmnElement="Flow_E">
        <di:waypoint x="270" y="355" />
        <di:waypoint x="270" y="480" />
        <di:waypoint x="405" y="480" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_E_Condition" bpmnElement="Flow_E_Condition">
        <di:waypoint x="430" y="455" />
        <di:waypoint x="430" y="410" />
        <di:waypoint x="530" y="410" />
        <bpmndi:BPMNLabel>
          <dc:Bounds x="441" y="393" width="78" height="14" />
        </bpmndi:BPMNLabel>
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_E_Default" bpmnElement="Flow_E_Default">
        <di:waypoint x="430" y="505" />
        <di:waypoint x="430" y="570" />
        <di:waypoint x="530" y="570" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_E_Bad_Merge" bpmnElement="Flow_E_Bad_Merge">
        <di:waypoint x="630" y="410" />
        <di:waypoint x="730" y="410" />
        <di:waypoint x="730" y="435" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_E_Good_Merge" bpmnElement="Flow_E_Good_Merge">
        <di:waypoint x="630" y="570" />
        <di:waypoint x="730" y="570" />
        <di:waypoint x="730" y="485" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_E_Merge" bpmnElement="Flow_E_Merge">
        <di:waypoint x="755" y="460" />
        <di:waypoint x="780" y="460" />
        <di:waypoint x="780" y="355" />
      </bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge id="Edge_End" bpmnElement="Flow_End">
        <di:waypoint x="805" y="330" />
        <di:waypoint x="862" y="330" />
      </bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</bpmn:definitions>
