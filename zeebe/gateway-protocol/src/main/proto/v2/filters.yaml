# Common filter schemas for advanced search
components:
  schemas:
    LikeFilter:
      type: string
      description: |
        Checks if the property matches the provided like value.

        Supported wildcard characters are:

        * `*`: matches zero, one, or multiple characters.
        * `?`: matches one, single character.

        Wildcard characters can be escaped with backslash, for instance: `\*`.

    BasicStringFilter:
      title: Advanced filter
      description: Basic advanced string filter.
      type: object
      properties:
        $eq:
          description: Checks for equality with the provided value.
          type: string
        $neq:
          description: Checks for inequality with the provided value.
          type: string
        $exists:
          description: Checks if the current property exists.
          type: boolean
        $in:
          description: Checks if the property matches any of the provided values.
          type: array
          items:
            type: string
        $notIn:
          description: Checks if the property matches none of the provided values.
          type: array
          items:
            type: string

    AdvancedStringFilter:
      title: Advanced filter
      description: Advanced string filter.
      allOf:
        - $ref: '#/components/schemas/BasicStringFilter'
        - type: object
          properties:
            $like:
              $ref: '#/components/schemas/LikeFilter'

    BasicStringFilterProperty:
      description: String property with basic advanced search capabilities.
      type: object
      oneOf:
        - type: string
          title: Exact match
          description: Matches the value exactly.
        - $ref: '#/components/schemas/BasicStringFilter'

    StringFilterProperty:
      description: String property with full advanced search capabilities.
      type: object
      oneOf:
        - type: string
          title: Exact match
          description: Matches the value exactly.
        - $ref: '#/components/schemas/AdvancedStringFilter'

    AdvancedIntegerFilter:
      title: Advanced filter
      description: Advanced integer (int32) filter.
      type: object
      properties:
        $eq:
          description: Checks for equality with the provided value.
          type: integer
          format: int32
        $neq:
          description: Checks for inequality with the provided value.
          type: integer
          format: int32
        $exists:
          description: Checks if the current property exists.
          type: boolean
        $gt:
          description: Greater than comparison with the provided value.
          type: integer
          format: int32
        $gte:
          description: Greater than or equal comparison with the provided value.
          type: integer
          format: int32
        $lt:
          description: Lower than comparison with the provided value.
          type: integer
          format: int32
        $lte:
          description: Lower than or equal comparison with the provided value.
          type: integer
          format: int32
        $in:
          description: Checks if the property matches any of the provided values.
          type: array
          items:
            type: integer
            format: int32

    IntegerFilterProperty:
      description: Integer property with advanced search capabilities.
      type: object
      oneOf:
        - type: integer
          format: int32
          title: Exact match
          description: Matches the value exactly.
        - $ref: '#/components/schemas/AdvancedIntegerFilter'

    AdvancedDateTimeFilter:
      title: Advanced filter
      description: Advanced date-time filter.
      type: object
      properties:
        $eq:
          description: Checks for equality with the provided value.
          type: string
          format: date-time
        $neq:
          description: Checks for inequality with the provided value.
          type: string
          format: date-time
        $exists:
          description: Checks if the current property exists.
          type: boolean
        $gt:
          description: Greater than comparison with the provided value.
          type: string
          format: date-time
        $gte:
          description: Greater than or equal comparison with the provided value.
          type: string
          format: date-time
        $lt:
          description: Lower than comparison with the provided value.
          type: string
          format: date-time
        $lte:
          description: Lower than or equal comparison with the provided value.
          type: string
          format: date-time
        $in:
          description: Checks if the property matches any of the provided values.
          type: array
          items:
            type: string
            format: date-time

    DateTimeFilterProperty:
      description: Date-time property with full advanced search capabilities.
      type: object
      oneOf:
        - type: string
          format: date-time
          title: Exact match
          description: Matches the value exactly.
        - $ref: '#/components/schemas/AdvancedDateTimeFilter'
