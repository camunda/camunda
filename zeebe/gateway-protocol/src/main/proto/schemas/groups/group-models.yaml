# Group domain schemas
GroupCreateRequest:
  type: object
  additionalProperties: false
  properties:
    groupId:
      type: string
      description: The ID of the new group.
    name:
      type: string
      description: The display name of the new group.
    description:
      type: string
      description: The description of the new group.
  required:
    - groupId
    - name

GroupCreateResult:
  type: object
  properties:
    groupId:
      description: The ID of the created group.
      type: string
    name:
      description: The display name of the created group.
      type: string
    description:
      description: The description of the created group.
      type: string

GroupUpdateRequest:
  type: object
  properties:
    name:
      type: string
      description: The new name of the group.
    description:
      type: string
      description: The new description of the group.
  required:
    - name
    - description

GroupUpdateResult:
  type: object
  properties:
    groupId:
      type: string
      description: The unique external group ID.
    name:
      type: string
      description: The name of the group.
    description:
      type: string
      description: The description of the group.

GroupResult:
  description: Group search response item.
  type: object
  properties:
    name:
      type: string
      description: The group name.
    groupId:
      type: string
      description: The group ID.
    description:
      type: string
      description: The group description.

GroupSearchQuerySortRequest:
  type: object
  additionalProperties: false
  properties:
    field:
      description: The field to sort by.
      type: string
      enum:
        - name
        - groupId
    order:
      $ref: '../common/enums.yaml#/SortOrderEnum'
  required:
    - field

GroupSearchQueryRequest:
  description: Group search request.
  additionalProperties: false
  allOf:
    - $ref: '../search/search-models.yaml#/SearchQueryRequest'
  type: object
  properties:
    sort:
      description: Sort field criteria.
      type: array
      items:
        $ref: '#/GroupSearchQuerySortRequest'
    filter:
      $ref: '#/GroupFilter'
      description: The group search filters.

GroupFilter:
  description: Group filter request
  type: object
  properties:
    groupId:
      description: The group ID search filters.
      allOf:
        - $ref: "../common/filters.yaml#/StringFilterProperty"
    name:
      description: The group name search filters.
      type: string

GroupSearchQueryResult:
  description: Group search response.
  type: object
  allOf:
    - $ref: '../search/search-models.yaml#/SearchQueryResponse'
  properties:
    items:
      description: The matching groups.
      type: array
      items:
        $ref: '#/GroupResult'

# Group association results
GroupUserResult:
  type: object
  properties:
    username:
      $ref: '../common/identifiers.yaml#/Username'

GroupUserSearchResult:
  type: object
  allOf:
    - $ref: '../search/search-models.yaml#/SearchQueryResponse'
  properties:
    items:
      description: The matching members.
      type: array
      items:
        $ref: '#/GroupUserResult'

GroupUserSearchQueryRequest:
  allOf:
    - $ref: '../search/search-models.yaml#/SearchQueryRequest'
  type: object
  properties:
    sort:
      description: Sort field criteria.
      type: array
      items:
        $ref: '#/GroupUserSearchQuerySortRequest'

GroupUserSearchQuerySortRequest:
  type: object
  properties:
    field:
      description: The field to sort by.
      type: string
      enum:
        - username
    order:
      $ref: '../common/enums.yaml#/SortOrderEnum'
  required:
    - field

GroupClientResult:
  type: object
  properties:
    clientId:
      description: The ID of the client.
      type: string

GroupClientSearchResult:
  type: object
  allOf:
    - $ref: '../search/search-models.yaml#/SearchQueryResponse'
  properties:
    items:
      description: The matching client IDs.
      type: array
      items:
        $ref: '#/GroupClientResult'

GroupClientSearchQueryRequest:
  allOf:
    - $ref: '../search/search-models.yaml#/SearchQueryRequest'
  type: object
  properties:
    sort:
      description: Sort field criteria.
      type: array
      items:
        $ref: '#/GroupClientSearchQuerySortRequest'

GroupClientSearchQuerySortRequest:
  type: object
  properties:
    field:
      description: The field to sort by.
      type: string
      enum:
        - clientId
    order:
      $ref: '../common/enums.yaml#/SortOrderEnum'
  required:
    - field
