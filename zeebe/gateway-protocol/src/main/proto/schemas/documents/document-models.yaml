# Document domain schemas
DocumentReference:
  type: object
  properties:
    camunda.document.type:
      type: string
      description: Document discriminator. Always set to "camunda".
      enum:
        - camunda
    storeId:
      type: string
      description: The ID of the document store.
    documentId:
      allOf:
        - $ref: '../common/identifiers.yaml#/DocumentId'
      description: The ID of the document.
    contentHash:
      type: string
      description: The hash of the document.
    metadata:
      $ref: "#/DocumentMetadata"

DocumentCreationFailureDetail:
  type: object
  properties:
    fileName:
      type: string
      description: The name of the file that failed to upload.
    status:
      type: integer
      format: int32
      description: The HTTP status code of the failure.
    title:
      type: string
      description: A short, human-readable summary of the problem type.
    detail:
      type: string
      description: A human-readable explanation specific to this occurrence of the problem.

DocumentCreationBatchResponse:
  allOf:
    - type: object
      properties:
        failedDocuments:
          type: array
          description: Documents that were successfully created.
          items:
            $ref: '#/DocumentCreationFailureDetail'
        createdDocuments:
          type: array
          description: Documents that failed creation.
          items:
            $ref: '#/DocumentReference'

DocumentMetadata:
  description: Information about the document.
  type: object
  properties:
    contentType:
      type: string
      description: The content type of the document.
    fileName:
      type: string
      description: The name of the file.
    expiresAt:
      type: string
      format: date-time
      description: The date and time when the document expires.
    size:
      type: integer
      format: int64
      description: The size of the document in bytes.
    processDefinitionId:
      allOf:
        - $ref: '../common/identifiers.yaml#/ProcessDefinitionId'
      description: The ID of the process definition that created the document.
    processInstanceKey:
      allOf:
        - $ref: '../common/keys.yaml#/ProcessInstanceKey'
      description: The key of the process instance that created the document.
    customProperties:
      type: object
      description: Custom properties of the document.
      additionalProperties: true

DocumentLinkRequest:
  type: object
  properties:
    timeToLive:
      type: integer
      format: int64
      description: The time-to-live of the document link in ms.
      default: 3600000 # 1 hour

DocumentLink:
  type: object
  properties:
    url:
      type: string
      description: The link to the document.
    expiresAt:
      type: string
      format: date-time
      description: The date and time when the link expires.
