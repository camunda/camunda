# User domain schemas
UserRequest:
  type: object
  additionalProperties: false
  properties:
    password:
      description: The password of the user.
      type: string
    username:
      description: The username of the user.
      type: string
    name:
      description: The name of the user.
      type: string
    email:
      description: The email of the user.
      type: string
  required:
    - username
    - password

UserCreateResult:
  type: object
  x-semantic-provider:
    - username
  properties:
    username:
      $ref: '../common/identifiers.yaml#/Username'
    name:
      description: The name of the user.
      type: string
    email:
      description: The email of the user.
      type: string

UserUpdateRequest:
  type: object
  properties:
    password:
      description: The password of the user. If blank, the password is unchanged.
      type: string
    name:
      description: The name of the user.
      type: string
    email:
      description: The email of the user.
      type: string

UserUpdateResult:
  type: object
  properties:
    username:
      $ref: '../common/identifiers.yaml#/Username'
    name:
      description: The name of the user.
      type: string
    email:
      description: The email of the user.
      type: string

UserResult:
  type: object
  properties:
    username:
      $ref: '../common/identifiers.yaml#/Username'
    name:
      description: The name of the user.
      type: string
    email:
      description: The email of the user.
      type: string

UserSearchQuerySortRequest:
  type: object
  properties:
    field:
      description: The field to sort by.
      type: string
      enum:
        - username
        - name
        - email
    order:
      $ref: '../common/enums.yaml#/SortOrderEnum'
  required:
    - field

UserSearchQueryRequest:
  allOf:
    - $ref: '../search/search-models.yaml#/SearchQueryRequest'
  type: object
  additionalProperties: false
  properties:
    sort:
      description: Sort field criteria.
      type: array
      items:
        $ref: '#/UserSearchQuerySortRequest'
    filter:
      $ref: '#/UserFilter'
      description: The user search filters.

UserFilter:
  description: User search filter.
  type: object
  properties:
    username:
      description: The username of the user.
      allOf:
        - $ref: "../common/filters.yaml#/StringFilterProperty"
    name:
      description: The name of the user.
      allOf:
        - $ref: "../common/filters.yaml#/StringFilterProperty"
    email:
      description: The email of the user.
      allOf:
        - $ref: "../common/filters.yaml#/StringFilterProperty"

UserSearchResult:
  type: object
  allOf:
    - $ref: '../search/search-models.yaml#/SearchQueryResponse'
  required:
    - items
  properties:
    items:
      description: The matching users.
      type: array
      items:
        $ref: '#/UserResult'

CamundaUserResult:
  type: object
  required:
    - tenants
    - groups
    - roles
    - salesPlanType
    - c8Links
    - canLogout
  properties:
    username:
      description: The username of the user.
      allOf:
        - $ref: "../common/identifiers.yaml#/Username"
      nullable: true
    displayName:
      description: The display name of the user.
      type: string
      example: Samantha Willis
      nullable: true
    email:
      description: The email of the user.
      type: string
      example: swillis@acme.com
      nullable: true
    authorizedComponents:
      description: The web components the user is authorized to use.
      type: array
      example:
        - "*"
      items:
        type: string
    tenants:
      description: The tenants the user is a member of.
      type: array
      items:
        $ref: '../tenants/tenant-models.yaml#/TenantResult'
    groups:
      description: The groups assigned to the user.
      type: array
      example:
        - customer-service
      items:
        type: string
    roles:
      description: The roles assigned to the user.
      type: array
      example:
        - frontline-support
      items:
        type: string
    salesPlanType:
      description: The plan of the user.
      type: string
      example: ""
    c8Links:
      description: The links to the components in the C8 stack.
      type: object
      example: {}
      additionalProperties:
        type: string
    canLogout:
      description: Flag for understanding if the user is able to perform logout.
      type: boolean
